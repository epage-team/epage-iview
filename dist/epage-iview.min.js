/*!
 * epage-iview v0.7.1
 * (c) 2020-present Chengzi
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("epage-core"),require("iview")):"function"==typeof define&&define.amd?define("EpageIview",["epage-core","iview"],t):"object"==typeof exports?exports.EpageIview=t(require("epage-core"),require("iview")):e.EpageIview=t(e.EpageCore,e.iview)}(window,function(e,t){return function(e){var t={};function a(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(s,o,function(t){return e[t]}.bind(null,o));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=11)}([function(e,t,a){"use strict";function s(e,t,a,s,o,n,i,r){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),s&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):o&&(l=r?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:c}}a.d(t,"a",function(){return s})},function(t,a){t.exports=e},function(e,t,a){"use strict";var s=a(7);t.a={components:{SettingForm:s.a},props:{store:{type:Object,default:()=>({})}},computed:{selectedSchema(){return this.store.getSelectedSchema()}},methods:{event(e,t){this.$emit(e,t)}}}},function(e,t,a){"use strict";var s=a(1),{defaultSchema:o}=s.constant;t.a={props:{schema:{type:Object,default:()=>o()}},computed:{store(){return this.$root.$options.extension.store},rootSchema:{get(){return this.store.getRootSchema()},set(e){this.store.initRootSchema(e)}},mode(){return this.store.getState().mode},model:{get(){return this.store.getModel()},set(e){this.store.setModel(e)}}},methods:{event(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];this.$emit("on-event",this.schema.key,e,...a)}}}},function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-setting-block"},[a("h5",{staticClass:"ep-setting-block-title"},[e._v("数据源")]),Array.isArray(e.type)?a("FormItem",{attrs:{label:"数据类型"}},[a("RadioGroup",{attrs:{size:"small"},on:{"on-change":e.onTypeChange},model:{value:e.selectedSchema.type,callback:function(t){e.$set(e.selectedSchema,"type",t)},expression:"selectedSchema.type"}},e._l(e.type,function(t){return a("Radio",{key:t.value,attrs:{label:t.value}},[a("span",[e._v(e._s(t.label))])])}),1)],1):e._e(),a("FormItem",{attrs:{label:"数据来源"}},[a("RadioGroup",{attrs:{size:"small"},on:{"on-change":e.onOriginChange},model:{value:e.schemaOption.type,callback:function(t){e.$set(e.schemaOption,"type",t)},expression:"schemaOption.type"}},[a("Radio",{attrs:{label:"static"}},[a("span",[e._v("手动")])]),a("Radio",{attrs:{label:"dynamic"}},[a("span",[e._v("接口")])])],1)],1),"static"===e.schemaOption.type?[e.hasItems&&!e.$slots.tree?[e._l(e.schemaOption.data,function(t,s){return a("Row",{key:s},["object"===e.dataType?a("Col",{attrs:{span:"8",offset:"1"}},[a("FormItem",{class:{"ivu-form-item-error":e.checkKeyType(t.key)},attrs:{"label-width":1}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"请输入key",number:e.isNumberType(e.selectedSchema.type)},model:{value:e.schemaOption.data[s].key,callback:function(t){e.$set(e.schemaOption.data[s],"key",t)},expression:"schemaOption.data[k].key"}})],1)],1):e._e(),a("Col",{attrs:{span:"object"===e.dataType?11:18,offset:"1"}},[a("FormItem",{attrs:{"label-width":1}},["object"===e.dataType?a("Input",{attrs:{type:"text",size:"small",placeholder:"请输入显示"},model:{value:e.schemaOption.data[s].value,callback:function(t){e.$set(e.schemaOption.data[s],"value",t)},expression:"schemaOption.data[k].value"}}):a("Input",{attrs:{type:"text",size:"small",placeholder:"请输入显示"},model:{value:e.schemaOption.data[s],callback:function(t){e.$set(e.schemaOption.data,s,t)},expression:"schemaOption.data[k]"}})],1)],1),a("Col",{staticStyle:{"line-height":"24px"},attrs:{span:"2",offset:"1"}},[a("Icon",{attrs:{type:"trash-a",title:"删除"},nativeOn:{click:function(t){return e.onDeleteOption(s)}}})],1)],1)}),a("Row",{staticClass:"ep-setting-option-add"},[a("Button",{attrs:{type:"dashed",size:"small"},on:{click:e.onAddOption}},[e._v("+ 添加选项")])],1)]:e._e(),e.$slots.tree?[a("Row",{staticClass:"ep-setting-option-add"},[a("Button",{attrs:{type:"dashed",size:"small"},on:{click:function(t){return e.$emit("tree-data:append")}}},[e._v("+ 编辑选项")])],1)]:e._e()]:"dynamic"===e.schemaOption.type?[a("FormItem",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("接口"),a("field-tip",{attrs:{content:e.tips.url}})],1),a("Input",{attrs:{type:"textarea",rows:3,size:"small",placeholder:"http://"},on:{"on-change":e.onTextareaChange},model:{value:e.schemaOption.url,callback:function(t){e.$set(e.schemaOption,"url",t)},expression:"schemaOption.url"}})],1),a("FormItem",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("转换器"),a("field-tip",{attrs:{content:e.tips.adapter}})],1),a("Input",{attrs:{type:"textarea",size:"small",autosize:{minRows:3,maxRows:8}},on:{"on-change":e.onTextareaChange},model:{value:e.schemaOption.adapter,callback:function(t){e.$set(e.schemaOption,"adapter",t)},expression:"schemaOption.adapter"}})],1),e._t("dynamic"),a("FormItem",[a("Button",{attrs:{size:"small"},on:{click:e.onFetch}},[e._v("测试")])],1)]:"dict"===e.schemaOption.type?[a("FormItem",{attrs:{label:"字典类型"}},[a("RadioGroup",{attrs:{size:"small"},model:{value:e.schemaOption.dict.type,callback:function(t){e.$set(e.schemaOption.dict,"type",t)},expression:"schemaOption.dict.type"}},[a("Radio",{attrs:{label:"api"}},[a("span",[e._v("自定义API")])]),a("Radio",{attrs:{label:"dict"}},[a("span",[e._v("字典")])])],1)],1),"api"===e.schemaOption.dict.type?a("FormItem",{attrs:{label:"API"}},[a("Select",{attrs:{size:"small"},on:{"on-change":e.onAPIChange},model:{value:e.schemaOption.dict.api,callback:function(t){e.$set(e.schemaOption.dict,"api",t)},expression:"schemaOption.dict.api"}},e._l(e.storeData.apis,function(t,s){return a("Option",{key:t.name,attrs:{value:t.name}},[e._v(e._s(t.method)+" "+e._s(t.name))])}),1)],1):e._e(),"dict"===e.schemaOption.dict.type?a("FormItem",{attrs:{label:"字典"}},[a("Select",{attrs:{size:"small"},on:{"on-change":e.onDictChange},model:{value:e.schemaOption.dict.dict,callback:function(t){e.$set(e.schemaOption.dict,"dict",t)},expression:"schemaOption.dict.dict"}},e._l(e.storeData.dicts,function(t,s){return a("Option",{key:t.name,attrs:{value:t.name}},[e._v(e._s(t.method)+" "+e._s(t.name))])}),1),a("Select",{attrs:{size:"small"},on:{"on-change":e.onDictAPIChange},model:{value:e.schemaOption.dict.dictAPI,callback:function(t){e.$set(e.schemaOption.dict,"dictAPI",t)},expression:"schemaOption.dict.dictAPI"}},e._l(e.getDictAPIS(),function(t,s){return a("Option",{key:s,attrs:{value:t.name}},[e._v(e._s(t.method)+" "+e._s(t.name))])}),1)],1):e._e()]:e._e(),e._t("tree"),e._t("default")],2)};s._withStripped=!0;var o=a(1),n={};!function(e,t){for(var a in e){var s=e[a].split(/\n/);t[a]=s.map(e=>"<p>".concat(e,"</p>")).join("")}}({adapter:"\n使用自定义脚本或使用内置工具函数util.convert2kv如：\n/*\n data 接口响应值\n function 数据转换逻辑\n childrenAlias 代表是否需要递归调用和children字段的别名，如果字段本身就是children也要加上这个参数\n*/\nreturn util.convert2kv(data, function (item) {\n  return {\n      key: item.valueAlias,\n      value: item.labelAlias\n  }\n}, 'childrenAlias')\n",url:"\n支持查询参数如：\nhttp://test.com/$$field01?page=$$field02\nfield01为当前表单 唯一标识\n$$field01 为字段 field01 的值\n"},n);var i=n,r=a(5);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){d(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var{ajax:p,randomStr:m,isNumberString:h,include:u,isArray:f}=o.helper,v=["number","array<number>"],y={components:{FieldTip:r.a},props:{store:{type:Object,default:()=>({types:{},state:{}})},dataType:{type:String,default:"object"},workerAction:{type:String,default:"fetch"}},data:()=>({tips:i,worker:null}),computed:{type(){var e="",t=this.store.getSelectedSchema(),a=this.store.getFlatWidgets()[t.widget];if(a&&a.Schema&&(e=a.Schema.type,f(e))){var{multiple:s}=this.schemaOption;e=s in this.schemaOption||e.find(e=>!u(e,"array"))?e.filter(e=>!u(e,"array")).map(e=>({label:e,value:s?"array<".concat(e,">"):e})):e.filter(e=>u(e,"array")).map(e=>{var t=e.match(/array<([^<>]+)>/);if(t&&t[1])return{label:t[1],value:e}})}return e},selectedSchema(){return this.store.getSelectedSchema()},schemaOption:{get(){return this.selectedSchema.option},set(e){var{key:t}=this.selectedSchema;this.store.updateWidgetOption(t,e)}},hasItems(){var{option:e}=this.selectedSchema;return e&&e.data},storeData(){var e=this.store.getStore();return{apis:e.apis,dicts:e.dicts}}},mounted(){this.worker=new o.Worker,this.listenerMessage()},methods:{isNumberType:e=>v.indexOf(e)>-1,resolve:e=>o.TypeBuilder.resolve(e),listenerMessage(){this.worker.onmessage=(e=>{var{message:t,success:a,data:s}=e.data;a?this.$emit("success",s):this.$emit("error",t)})},checkKeyType(e){var t=this.selectedSchema.type;return u(v,t)&&!h(e+"")},onTypeChange(e){var{key:t,option:a,default:s}=this.selectedSchema;this.store.updateWidgetType(t,e);var o=t=>t.map(t=>{var a=u(v,e)?Number(t.key):String(t.key);return isNaN(a)||(t.key=a),t.children=o(t.children||[]),t}),n=o(a.data);this.store.updateWidgetOption(t,{data:n}),this.updateDefaultValue(s)},onOriginChange(e){var{key:t,option:a,default:s}=this.selectedSchema,o=c({},a.dict||{});o.dict="",o.dictAPI="",o.api="",this.store.updateWidgetOption(t,{type:e,dict:o}),this.updateDefaultValue(s)},onAPIChange(e){var t=this.storeData.apis.filter(t=>t.name===e)[0];t&&t.getData()},onDictChange(e){var t=this.storeData.dicts.filter(t=>t.name===e)[0];t&&t.getData().then(()=>{var{option:a}=this.selectedSchema,s=c({},a.dict||{});t.data=t.data.map(e=>new o.API(e)),s.type="dict",s.dict=e,s.dictAPI=""})},onDictAPIChange(e){var{option:t}=this.selectedSchema,a=c({},t.dict||{}),{dict:s}=a,n=this.store.getStore().dicts.filter(e=>e.name===s)[0];if(n){var i=n.data.filter(t=>t.name===e)[0];if(i){var r=n.data.indexOf(i),l=i instanceof o.API?i:new o.API(i);n.data.splice(r,1,l),l.getData()}}},getDictAPIS(){var{option:e}=this.selectedSchema,t=c({},e.dict||{}),{type:a,dict:s}=t;if("dict"!==a||!s)return[];var o=this.storeData.dicts.filter(e=>e.name===s)[0];return o?o.data:[]},updateDefaultValue(e){var{key:t}=this.selectedSchema,a=f(e)?[]:void 0;this.store.updateWidgetDefault({[t]:a})},onAddOption(){var{key:e}=this.selectedSchema,t=[...this.schemaOption.data],a=m(7),s=a;"object"===this.dataType&&(s={key:a,value:a}),t.push(s),this.store.updateWidgetOption(e,{data:t}),this.$emit("on-option-add")},computeDefaultValue(e,t){var{key:a,default:s}=e;if(f(s)){var o=s.filter(e=>!!t.filter(t=>t.key===e).length);s.length!==o.length&&this.store.updateWidgetDefault({[a]:o})}else this.store.updateWidgetDefault({[a]:void 0})},onDeleteOption(e){var{key:t}=this.selectedSchema,a=[...this.schemaOption.data];a.splice(e,1),this.computeDefaultValue(this.selectedSchema,a),this.store.updateWidgetOption(t,{data:a}),this.$emit("on-option-delete")},onTextareaChange(e){this.$emit("on-adapter-change",e)},onFetch(){var{url:e,adapter:t}=this.schemaOption;e?p(e).then(e=>{this.worker.postMessage({action:this.workerAction,data:e,fn:t})}).catch(e=>{this.$emit("error",{success:!1,message:e})}):console.warn("请输入接口地址")},dataChange(e){this.staticData=e}}},g=a(0),b=Object(g.a)(y,s,[],!1,null,null,null);b.options.__file="src/components/data-source/index.vue",t.a=b.exports},function(e,t,a){"use strict";var s=function(){var e=this.$createElement,t=this._self._c||e;return t("Tooltip",{attrs:{placement:"top",transfer:!0}},[t("pre",{staticClass:"ep-setting-tooltip",attrs:{slot:"content"},domProps:{innerHTML:this._s(this.content)},slot:"content"}),t("Icon",{attrs:{type:"ios-information-outline"}})],1)};s._withStripped=!0;var o={props:{content:{type:String,default:""}}},n=a(0),i=Object(n.a)(o,s,[],!1,null,null,null);i.options.__file="src/components/field-tip/index.vue",t.a=i.exports},function(e,t,a){"use strict";var s=a(1),{ajax:o}=s.helper;t.a={data:()=>({worker:null}),computed:{options(){var{type:e,data:t,dynamicData:a,dict:s}=this.schema.option,o=[];return"static"===e&&(o=t),"dynamic"===e&&(o=a),"dict"===e&&(o=this.getDictAPIData(s)),o}},mounted(){var{type:e}=this.schema.option;"static"!==e&&(this.worker=new s.Worker,this.listenerMessage(),this.getDynamicData())},methods:{getDictAPIData(e){var t=[],a=this.store.getStore(),{type:s,api:o,dict:n,dictAPI:i}=e||{};if("api"===s)t=(a.apis.filter(e=>e.name===o)[0]||{}).data||[];else if("dict"===s){var r=a.dicts.filter(e=>e.name===n)[0];r&&r.data&&(t=(r.data.filter(e=>e.name===i)[0]||{}).data||[])}return t},listenerMessage(){this.worker.onmessage=(e=>{var{message:t,success:a,data:s}=e.data;if(a){var{key:o}=this.schema;this.store.updateWidgetOption(o,{dynamicData:s}),this.$emit("success",s)}else this.$emit("error",t);this.worker.terminate()})},getDynamicData(){var{url:e,adapter:t,type:a}=this.schema.option;if("dynamic"===a){if(!e)return;o(e).then(e=>{this.worker.postMessage({action:"fetch",data:e,fn:t})}).catch(e=>{this.$emit("error",{success:!1,message:e})})}}}}},function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Form",{attrs:{"label-width":80}},[e._l(e.orders,function(t){return a("div",{key:t.key},["key"===t.key?[e.$slots.key?[e._t("key")]:a("FormItem",{attrs:{label:"唯一标识"}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"不能重复",disabled:!0},model:{value:e.selectedSchema.key,callback:function(t){e.$set(e.selectedSchema,"key",t)},expression:"selectedSchema.key"}})],1)]:e._e(),"name"===t.key?[e.$slots.name?[e._t("name")]:a("FormItem",{attrs:{label:"字段名"}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"不能重复"},model:{value:e.selectedSchema.name,callback:function(t){e.$set(e.selectedSchema,"name",t)},expression:"selectedSchema.name"}})],1)]:e._e(),"label"===t.key?[e.$slots.label?[e._t("label")]:a("FormItem",{attrs:{label:"标题"}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"请输入标题"},model:{value:e.selectedSchema.label,callback:function(t){e.$set(e.selectedSchema,"label",t)},expression:"selectedSchema.label"}})],1)]:e._e(),"placeholder"===t.key?[e.$slots.placeholder?[e._t("placeholder")]:a("FormItem",{attrs:{label:"占位提示"}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"请输入..."},model:{value:e.selectedSchema.placeholder,callback:function(t){e.$set(e.selectedSchema,"placeholder",t)},expression:"selectedSchema.placeholder"}})],1)]:e._e(),"description"===t.key?[e.$slots.description?[e._t("description")]:a("FormItem",{attrs:{label:"组件说明"}},[a("Input",{attrs:{type:"textarea",size:"small",placeholder:"请输入组件说明"},model:{value:e.selectedSchema.description,callback:function(t){e.$set(e.selectedSchema,"description",t)},expression:"selectedSchema.description"}})],1)]:e._e(),"help"===t.key?[e.$slots.help?[e._t("help")]:a("FormItem",{attrs:{label:"帮助信息"}},[a("Input",{attrs:{type:"textarea",size:"small",placeholder:"请输入帮助信息"},model:{value:e.selectedSchema.help,callback:function(t){e.$set(e.selectedSchema,"help",t)},expression:"selectedSchema.help"}})],1)]:e._e(),"hidden"===t.key?[e.$slots.hidden?[e._t("hidden")]:a("FormItem",{attrs:{label:"隐藏"}},[a("i-switch",{model:{value:e.selectedSchema.hidden,callback:function(t){e.$set(e.selectedSchema,"hidden",t)},expression:"selectedSchema.hidden"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1)]:e._e(),"disabled"===t.key?[e.$slots.disabled?[e._t("disabled")]:a("FormItem",{attrs:{label:"禁用"}},[a("i-switch",{model:{value:e.selectedSchema.disabled,callback:function(t){e.$set(e.selectedSchema,"disabled",t)},expression:"selectedSchema.disabled"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1)]:e._e(),"rule"===t.key?[e.$slots.rule?[e._t("rule")]:[e.rules&&e.rules.length?[a("FormItem",{attrs:{label:"必填"}},[a("i-switch",{model:{value:e.rules[0].required,callback:function(t){e.$set(e.rules[0],"required",t)},expression:"rules[0].required"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),e.rules[0].required?a("FormItem",{attrs:{label:"错误提示"}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"错误提示信息"},model:{value:e.rules[0].message,callback:function(t){e.$set(e.rules[0],"message",t)},expression:"rules[0].message"}})],1):e._e()]:e._e(),e.selectedValidators.length?a("div",{staticClass:"ep-setting-block"},[a("h5",{staticClass:"ep-setting-block-title"},[e._v("规则")]),e._l(e.rules,function(t,s){return a("div",{key:s,staticClass:"ep-rule-item"},[0!==s?[a("div",{key:s,staticClass:"ep-rule-item-title"},[e._v("规则("+e._s(s)+")"),a("Icon",{staticClass:"ep-rule-item-delete",attrs:{type:"android-close",title:"删除此规则"},nativeOn:{click:function(t){return e.deleteRule(s)}}})],1),e.selectedValidators.length?a("FormItem",{attrs:{label:"类型"}},[a("Select",{attrs:{size:"small",transfer:!0},on:{"on-change":function(t){return e.onRuleTypeChange(e.rules[s].type,s)}},model:{value:e.rules[s].type,callback:function(t){e.$set(e.rules[s],"type",t)},expression:"rules[k].type"}},e._l(e.selectedValidators,function(t){return a("Option",{key:t.type,attrs:{value:t.type}},[e._v(e._s(t.name))])}),1)],1):e._e(),a("ep-widget-rule",{attrs:{rule:e.rules[s],index:s},on:{"on-message-change":e.onRuleMessageChange}})]:e._e()],2)}),a("div",{staticClass:"ep-setting-block-btns"},[e.selectedValidators.length?a("Button",{attrs:{type:"dashed",size:"small",icon:"plus"},on:{click:e.addRule}},[e._v("添加新规则")]):e._e()],1)],2):e._e()]]:e._e()],2)}),e._t("default")],2)};s._withStripped=!0;var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget-rule"},["string"===e.rule.type?[a("FormItem",{attrs:{label:"最小长度"}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"请输入最大长度"},model:{value:e.rule.min,callback:function(t){e.$set(e.rule,"min",t)},expression:"rule.min"}})],1),a("FormItem",{attrs:{label:"最大长度"}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"请输入最大长度"},model:{value:e.rule.max,callback:function(t){e.$set(e.rule,"max",t)},expression:"rule.max"}})],1)]:"pattern"===e.rule.type?[a("FormItem",{attrs:{label:"表达式"}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"请添加规则"},model:{value:e.rule.pattern,callback:function(t){e.$set(e.rule,"pattern",t)},expression:"rule.pattern"}})],1),a("FormItem",{attrs:{label:"标记"}},[a("Checkbox",{model:{value:e.rule.ignoreCase,callback:function(t){e.$set(e.rule,"ignoreCase",t)},expression:"rule.ignoreCase"}},[e._v("忽略大小写")]),a("Checkbox",{model:{value:e.rule.global,callback:function(t){e.$set(e.rule,"global",t)},expression:"rule.global"}},[e._v("全局模式")]),a("Checkbox",{model:{value:e.rule.multiline,callback:function(t){e.$set(e.rule,"multiline",t)},expression:"rule.multiline"}},[e._v("匹配多行")])],1)]:"number"===e.rule.type?[a("FormItem",{attrs:{label:"最小"}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"请输入最小值"},model:{value:e.rule.min,callback:function(t){e.$set(e.rule,"min",t)},expression:"rule.min"}})],1),a("FormItem",{attrs:{label:"最大"}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"请输入最大值"},model:{value:e.rule.max,callback:function(t){e.$set(e.rule,"max",t)},expression:"rule.max"}})],1)]:e._e(),e.rule.type?a("FormItem",{attrs:{label:"错误提示"}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"错误提示信息"},model:{value:e.rule.message,callback:function(t){e.$set(e.rule,"message",t)},expression:"rule.message"}})],1):e._e()],2)};o._withStripped=!0;var n={props:{rule:{type:Object,default:()=>({})},index:{type:Number,default:0}},watch:{"rule.message"(e){this.$emit("on-message-change",{index:this.index,message:e})}}},i=a(0),r=Object(i.a)(n,o,[],!1,null,null,null);r.options.__file="src/setting-form/rule.vue";var l={components:{EpWidgetRule:r.exports},props:{orders:{type:Array,default:()=>[{key:"key"},{key:"name"},{key:"label"},{key:"placeholder"},{key:"description"},{key:"help"},{key:"hidden"},{key:"disabled"},{key:"dynamic"},{key:"rule"}]},store:{type:Object,default:()=>({types:{},state:{}})}},data:()=>({}),computed:{selectedSchema(){return this.store.getSelectedSchema()},rules(){return this.store.getSelectedSchema().rules||[]},selectedValidators(){return this.store.getWidgetsValidators()[this.selectedSchema.widget]||[]}},methods:{onRuleTypeChange(e,t){var{key:a}=this.selectedSchema;this.store.updateRule(a,t,{type:e})},onRuleMessageChange(e){var{index:t,message:a}=e,{key:s}=this.selectedSchema;this.store.updateRule(s,t,{message:a})},addRule(){var{key:e}=this.selectedSchema;this.store.addRule(e)},deleteRule(e){var{key:t}=this.selectedSchema;this.store.removeRule(t,e)}}},c=Object(i.a)(l,s,[],!1,null,null,null);c.options.__file="src/setting-form/index.vue",t.a=c.exports},function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-setting-move-btn"},[a("i",{staticClass:"ep-icon ep-icon-up-o",class:{"ep-setting-move-btn-disabled":0===e.index},attrs:{title:"上移"},on:{click:function(t){return e.onMoveUp(e.index)}}}),a("i",{staticClass:"ep-icon ep-icon-down-o",class:{"ep-setting-move-btn-disabled":e.index===e.list.length-1},attrs:{title:"下移"},on:{click:function(t){return e.onMoveDown(e.index)}}}),a("i",{staticClass:"ep-icon ep-icon-minus-o",class:{"ep-setting-move-btn-disabled":1===e.list.length},attrs:{title:"删除"},on:{click:function(t){return e.onDelete(e.index)}}}),a("i",{staticClass:"ep-icon ep-icon-plus-o",attrs:{title:"添加"},on:{click:function(t){return e.onAdd(e.index)}}})])};s._withStripped=!0;var o={props:{index:{type:Number,default:-1},list:{type:Array,default:()=>[]}},data:()=>({}),methods:{onMoveUp(e){this.$emit("on-move-up",e)},onMoveDown(e){this.$emit("on-move-down",e)},onDelete(e){this.$emit("on-delete",e)},onAdd(e){this.$emit("on-add",e)}}},n=a(0),i=Object(n.a)(o,s,[],!1,null,null,null);i.options.__file="src/components/move-btn/index.vue",t.a=i.exports},function(e,a){e.exports=t},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return c}),a.d(t,"Setting",function(){return I}),a.d(t,"Schema",function(){return C});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget",attrs:{"data-epkey":e.schema.key}},["display"===e.mode?[a("span",[e._v(e._s(e.displayValue))])]:[e.schema.key?a("Cascader",{attrs:{data:e.options,placeholder:e.schema.placeholder,disabled:e.schema.disabled,clearable:"",transfer:"",size:e.size,"render-format":e.renderFormat},on:{"on-change":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-change"].concat(s))}},model:{value:e.model[e.schema.key],callback:function(t){e.$set(e.model,e.schema.key,t)},expression:"model[schema.key]"}}):e._e()]],2)};s._withStripped=!0;var o=a(3),n=a(6),i={extends:o.a,mixins:[n.a],computed:{size(){var e=this.schema.size||this.rootSchema.size;return"default"===e?void 0:e},displayValue(){var e=[],{delimiter:t="/"}=this.schema.option,a=this.model[this.schema.key];return this.findFinalValue(a,e,this.options),e.join(t)},options(){var{type:e,data:t,dynamicData:a,dict:s}=this.schema.option,o=this.resolveArrayType(this.schema.type),n=[];return"static"===e&&(n=t||[]),"dynamic"===e&&(n=a||[]),"dict"===e&&(n=this.getDictAPIData(s)),this.formatData(JSON.parse(JSON.stringify(n)),o)}},methods:{resolveArrayType(e){var t=(e||"").match(/^array(?:<(.+)>)?/);if(t&&t[1])return t[1]},renderFormat(e){var t=this.schema.option.delimiter||"/";return e.join(t)},findFinalValue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0!==e.length)for(var s of a)if(s.value===e[0])return t.push(s.label),this.findFinalValue(e.slice(1),t,s.children)},formatData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=[];for(var s of e){var o={value:s.key,label:s.value};if("number"===t){var n=parseFloat(s.key);isNaN(n)||(o.value=n)}Array.isArray(s.children)?o.children=this.formatData(s.children,t):s.children=[],a.push(o)}return a}}},r=a(0),l=Object(r.a)(i,s,[],!1,null,null,null);l.options.__file="src/widgets/cascader/View.vue";var c=l.exports,d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[a("data-source",{attrs:{store:e.store},on:{success:e.onSuccess,"tree-data:append":e.onAddTreeOpton}},[a("template",{slot:"tree"},[a("Modal",{attrs:{width:"650",closable:!1},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[e.showModal?a("div",{staticClass:"epiv-cascader-modal"},[a("data-tree",{attrs:{"raw-data":e.treeData,"schema-type":e.selectedSchema.type},on:{"on-remove-child":e.onRemoveTreeChild}}),a("div",{staticClass:"epiv-cascader-modal-msg"},[e._v("注意key值与数据源类型是否一致")])],1):e._e(),a("template",{slot:"footer"},[a("Button",{staticStyle:{marginRight:"10px"},attrs:{type:"default"},on:{click:e.onTreeCancel}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:e.onTreeOk}},[e._v("确定")])],1)],2)],1)],2),e.$slots.delimiter?[e._t("delimiter")]:a("FormItem",{attrs:{label:"分隔符"}},[a("Input",{staticStyle:{width:"100px"},attrs:{placeholder:"默认为'/'",size:"small"},model:{value:e.selectedSchema.option.delimiter,callback:function(t){e.$set(e.selectedSchema.option,"delimiter",t)},expression:"selectedSchema.option.delimiter"}})],1),e.$slots.defaultValue?[e._t("defaultValue")]:["static"===e.selectedSchema.option.type?a("FormItem",{attrs:{label:"默认值"}},[a("Cascader",{attrs:{data:e.getSchemaData(),placeholder:"请选择默认值",clearable:"",transfer:"",size:"small","render-format":e.renderFormat},model:{value:e.selectedSchema.default,callback:function(t){e.$set(e.selectedSchema,"default",t)},expression:"selectedSchema.default"}})],1):e._e()]],2)};d._withStripped=!0;var p=a(1),m=a(2),h=a(4),u=a(5),f=function(){var e=this.$createElement;return(this._self._c||e)("Tree",{staticClass:"epiv-cascader-datatree",attrs:{data:this.rootList,render:this.renderContent}})};f._withStripped=!0;var{randomStr:v,isNumberString:y,include:g}=p.helper,b={props:{rawData:{type:Array,required:!0},schemaType:{type:String,default:""}},data(){return this.$createElement,this.$createElement,{rootList:[{value:"Root",expand:!0,render:(e,t)=>{var{root:a,node:s,data:o}=t;return e("div",{class:"epiv-cascader-datatree-root"},[e("span",[o.value]),e("i-button",{attrs:{type:"primary",size:"small",title:"添加子节点"},on:{click:e=>this.append(o)}},[e("i",{class:"ep-icon ep-icon-plus"})])])},children:[]}],buttonProps:{type:"ghost",size:"small"}}},mounted(){this.rootList[0].children=this.rawData},methods:{renderContent(e,t){var{root:a,node:s,data:o}=t;return e("div",{class:"epiv-cascader-datatree-item"},[e("div",{class:"epiv-cascader-datatree-content"},[[{key:"key",placeholder:"请输入key",tips:"提交字段"},{key:"value",placeholder:"请输入value",tips:"显示字段"}].map(t=>e("div",[e("span",{class:"mr5"},[t.key,e(Tooltip,{attrs:{content:t.tips,placement:"top",transfer:!0}},[e("i",{class:"ep-icon ep-icon-info-o"})])]),e("i-input",{attrs:{value:o[t.key],size:"small",placeholder:t.placeholder},on:{input:e=>{o[t.key]=e.trim()}},class:{"epiv-cascader-datatree-content-input":!0,"ivu-form-item-error":"key"===t.key&&this.checkKeyType(o[t.key])}})]))]),e("div",{class:"epiv-cascader-datatree-operat"},[e("i-button",{class:"mr5",attrs:{type:"ghost",size:"small",title:"添加子节点"},on:{click:e=>this.append(o)}},[e("i",{class:"ep-icon ep-icon-plus"})]),e("i-button",{attrs:{type:"ghost",size:"small",title:"删除当前节点"},on:{click:e=>this.remove(a,s,o)}},[e("i",{class:"ep-icon ep-icon-minus"})])])])},append(e){var t=e.children||[],a=v(7),s={value:a,key:a,expand:!0};t.push(s),!e.children&&this.$set(e,"children",t)},remove(e,t,a){var s=e.find(e=>e===t).parent,o=e.find(e=>e.nodeKey===s).node,n=o.children.indexOf(a);o.children.splice(n,1),this.$emit("on-remove-child")},checkKeyType(e){var t=this.schemaType;return g(["number","array<number>"],t)&&!y(e)}}},_=Object(r.a)(b,f,[],!1,null,null,null);_.options.__file="src/widgets/cascader/data-tree.vue";var S=_.exports,{jsonClone:k,randomStr:x,include:w}=p.helper,$={components:{DataSource:h.a,DataTree:S,FieldTip:u.a},extends:m.a,data:()=>({showModal:!1,treeData:[]}),methods:{onSuccess(e){var t=this.selectedSchema.key;this.store.updateWidgetOption(t,{dynamicData:e})},onAddTreeOpton(){if(this.treeData=k(this.selectedSchema.option.data),0===this.treeData.length){var e=x(7);this.treeData.push({key:e,value:e,expand:!0})}this.showModal=!0},onTreeCancel(){this.showModal=!1,this.treeData=[]},onTreeOk(){if(!this.validateTreeData())return this.$Message.error("请将数据填写完整~");var{key:e}=this.selectedSchema,t=this.deleteExtraProperty(this.treeData);this.store.updateWidgetOption(e,{data:t}),this.$emit("on-option-add"),this.onTreeCancel()},validateTreeData(e){var t=!0;return function e(a){for(var s of a){if(!s.key||!s.value&&0!==s.value)return void(t=!1);Array.isArray(s.children)&&e(s.children)}}(this.treeData),t},deleteExtraProperty(e){var t=["value","key"],a=["children"];return function e(s){var o=[];for(var n of s){var i={};for(var r in n){var l=n[r];w(t,r)&&(i[r]=l),w(a,r)&&(i[r]=Array.isArray(l)?e(l):l)}o.push(i)}return o}(e)},getSchemaData(){var{data:e}=this.selectedSchema.option;return this.formatData(JSON.parse(JSON.stringify(e)))},renderFormat(e){var t=this.selectedSchema.option.delimiter||"/";return e.join(t)},formatData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={value:"label",key:"value"};for(var a of e){for(var s in t)a[t[s]]=a[s];Array.isArray(a.children)?this.formatData(a.children):a.children=[]}return e},onRemoveTreeChild(){var{key:e}=this.selectedSchema;this.store.updateWidgetDefault({[e]:[]})}}},O=Object(r.a)($,d,[],!1,null,null,null);O.options.__file="src/widgets/cascader/Setting.vue";var I=O.exports,C=p.schema.base.cascader},function(e,t,a){"use strict";a.r(t),a.d(t,"setting",function(){return k}),a.d(t,"viewExtend",function(){return d.a}),a.d(t,"entry",function(){return S}),a.d(t,"inputWidget",function(){return x}),a.d(t,"textareaWidget",function(){return w}),a.d(t,"textWidget",function(){return $}),a.d(t,"inputNumberWidget",function(){return O}),a.d(t,"selectWidget",function(){return I}),a.d(t,"cascaderWidget",function(){return C}),a.d(t,"autoCompleteWidget",function(){return z}),a.d(t,"radioWidget",function(){return F}),a.d(t,"checkboxWidget",function(){return D}),a.d(t,"datePickerWidget",function(){return A}),a.d(t,"timePickerWidget",function(){return V}),a.d(t,"switchWidget",function(){return j}),a.d(t,"rateWidget",function(){return E}),a.d(t,"uploadWidget",function(){return R}),a.d(t,"lineWidget",function(){return W}),a.d(t,"gridWidget",function(){return M}),a.d(t,"buttonWidget",function(){return T});var s={};a.r(s),a.d(s,"DataSource",function(){return r.a}),a.d(s,"FieldTip",function(){return l.a}),a.d(s,"MoveBtn",function(){return c.a});var o={};a.r(o),a.d(o,"SettingForm",function(){return n.a}),a.d(o,"settingExtend",function(){return i.a}),a.d(o,"components",function(){return s});var n=a(7),i=a(2),r=a(4),l=a(5),c=a(8),d=a(3),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-render-container",style:e.containerStyle},[a("Form",{ref:"epForm",staticClass:"ep-widget-form",class:"ep-mode-"+e.mode,style:e.contentStyle,attrs:{rules:e.rules,model:e.model,"label-width":e.rootSchema.label.width,"label-position":e.rootSchema.label.position}},["design"!==e.state.tab?e._l(e.childrenSchema,function(t,s){return a("ep-widget-item",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!item.hidden"}],key:t.key,attrs:{schema:t,"flat-widgets":e.flatWidgets,"flat-schemas":e.flatSchemas,"root-schema":e.rootSchema},on:{"on-add":e.onWidgetAdd,"on-event":e.onEvent,"on-dynamic-add":e.onDynamicAdd,"on-dynamic-remove":e.onDynamicRemove}})}):a("vue-drag",e._b({attrs:{handle:".ep-widget-item-handle",draggable:".ep-widget-item","ghost-class":"ep-widget-ghost",list:e.childrenSchema,disabled:"design"!==e.state.tab,animation:200}},"vue-drag",{group:{name:"g1"}},!1),[a("transition-group",e._l(e.childrenSchema,function(t,s){return a("ep-widget-item",{key:t.key,attrs:{schema:t,"flat-widgets":e.flatWidgets,"flat-schemas":e.flatSchemas,"selected-schema":e.selectedSchema,"root-schema":e.rootSchema},on:{"on-select":e.onWidgetSelect,"on-delete":e.onWidgetDelete,"on-copy":e.onWidgetCopy,"on-add":e.onWidgetAdd,"on-event":e.onEvent}})}),1)],1)],2)],1)};p._withStripped=!0;var m=a(1),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget-item",class:e.cls,style:e.getStyle(),on:{click:function(t){return e.onOriginViewSelect(t,e.schema)}}},["design"===e.tab?a("div",{staticClass:"ep-widget-item-name"},[e._v(e._s(e.schema.name))]):e._e(),"design"===e.tab?a("div",[a("div",{staticClass:"ep-widget-btn ep-widget-btn-delete ep-icon ep-icon-trash",attrs:{title:"删除"},on:{click:function(t){return e.onOriginViewDelete(t,e.schema)}}}),a("div",{staticClass:"ep-widget-btn ep-widget-btn-clone ep-icon ep-icon-copy",attrs:{title:"复制"},on:{click:function(t){return e.onOriginViewCopy(t,e.schema)}}})]):e._e(),e.schema.container?[e.schema.dynamic&&"design"!==e.tab?e._l(e.schema.list,function(t,s){return a("div",{staticStyle:{position:"relative"}},[t.option?a("Row",{class:"design"!==e.tab?"ep-widget-dynamic-container":"",attrs:{type:"flex",gutter:t.option.gutter,align:t.option.align,justify:t.option.justify}},e._l(t.children,function(t,s){return a("Col",{key:s,attrs:{span:t.span,offset:t.offset}},[Array.isArray(t.list)&&"design"!==e.tab?e._l(t.list,function(t,s){return a("ep-widget-item",{key:t.key,attrs:{schema:t,"flat-widgets":e.flatWidgets,"flat-schemas":e.flatSchemas,"root-schema":e.rootSchema},on:{"on-add":e.onViewAdd,"on-event":e.onEvent,"on-dynamic-add":e.onDynamicAdd,"on-dynamic-remove":e.onDynamicRemove}})}):e._e()],2)}),1):e._e(),t.description?a("div",{staticClass:"ep-widget-description"},[e._v(e._s(t.description))]):e._e(),a("div",{staticClass:"epiv-widget-dynamic-remove ep-icon ep-icon-minus",attrs:{title:"删除"},on:{click:function(t){return e.onOriginDynamicRemove(t,e.schema,s)}}})],1)}):[e.schema.option?a("Row",{attrs:{type:"flex",gutter:e.schema.option.gutter,align:e.schema.option.align,justify:e.schema.option.justify}},e._l(e.schema.children,function(t,s){return a("Col",{key:s,attrs:{span:t.span,offset:t.offset}},[Array.isArray(t.list)?["design"!==e.tab?e._l(t.list,function(t,s){return a("ep-widget-item",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!child.hidden"}],key:t.key,attrs:{schema:t,"flat-widgets":e.flatWidgets,"flat-schemas":e.flatSchemas,"root-schema":e.rootSchema},on:{"on-add":e.onViewAdd,"on-event":e.onEvent,"on-dynamic-add":e.onDynamicAdd,"on-dynamic-remove":e.onDynamicRemove}})}):a("vue-drag",e._b({attrs:{handle:".ep-widget-item-handle",draggable:".ep-widget-item","ghost-class":"ep-widget-ghost",list:t.list,animation:200}},"vue-drag",{group:{name:"g1"}},!1),[a("transition-group",{attrs:{mode:"fade"}},[0===t.list.length?a("div",{key:"placeholder",staticClass:"ep-widget-item",class:e.getPlaceholderCls()}):e._l(t.list,function(t,s){return a("ep-widget-item",{key:t.key,class:{"ep-widget-selected":t.key===e.selectedSchema.key},attrs:{schema:t,"flat-widgets":e.flatWidgets,"flat-schemas":e.flatSchemas,"selected-schema":e.selectedSchema,"root-schema":e.rootSchema},on:{"on-select":e.onViewSelect,"on-delete":e.onViewDelete,"on-copy":e.onViewCopy,"on-add":e.onViewAdd,"on-event":e.onEvent}})})],2)],1)]:e._e()],2)}),1):e._e(),e.schema.description?a("div",{staticClass:"ep-widget-description"},[e._v(e._s(e.schema.description))]):e._e()],a("Button",{directives:[{name:"show",rawName:"v-show",value:e.schema.dynamic,expression:"schema.dynamic"}],staticStyle:{"margin-top":"5px"},attrs:{type:"dashed",size:e.schema.size||e.rootSchema.size},on:{click:function(t){return e.onOriginDynamicAdd(t,e.schema)}}},[e._v("添加")])]:[e.schema.dynamic&&"design"!==e.tab?[0===e.schema.list.length?a("FormItem",{class:{"ep-widget-item-fullcol":!e.schema.label},attrs:{label:e.schema.label}},[a("Button",{staticStyle:{"margin-top":"5px"},attrs:{size:e.schema.size||e.rootSchema.size,type:"dashed"},on:{click:function(t){return e.onOriginDynamicAdd(t,e.schema)}}},[e._v("添加")])],1):e._e(),e._l(e.schema.list,function(t,s){return a("FormItem",{key:t.key,class:{"ep-widget-item-fullcol":!t.label},attrs:{label:0===s?e.schema.label:void 0,prop:t.key}},[t.help?a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.label)),a("Tooltip",{attrs:{content:t.help,transfer:!0}},[a("Icon",{attrs:{type:"ios-information-outline"}})],1)],1):e._e(),a(e.flatWidgets[t.widget].View,{tag:"component",staticClass:"ep-widget-control",attrs:{schema:e.schema.list[s]},on:{"on-event":e.onEvent}}),t.description?a("div",{staticClass:"ep-widget-description"},[e._v(e._s(t.description))]):e._e(),a("div",{staticClass:"epiv-widget-dynamic-remove ep-icon ep-icon-minus",attrs:{title:"删除"},on:{click:function(t){return e.onOriginDynamicRemove(t,e.schema,s)}}})],1)}),0!==e.schema.list.length?a("FormItem",{class:{"ep-widget-item-fullcol":!e.schema.label},attrs:{label:" "}},[a("Button",{staticStyle:{"margin-top":"5px"},attrs:{type:"dashed",size:e.schema.size||e.rootSchema.size},on:{click:function(t){return e.onOriginDynamicAdd(t,e.schema)}}},[e._v("添加")])],1):e._e()]:a("FormItem",{class:{"ep-widget-item-fullcol":!e.schema.label},attrs:{label:e.schema.label,prop:e.schema.key}},[e.schema.help?a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(e.schema.label)),a("Tooltip",{attrs:{content:e.schema.help,transfer:!0}},[a("Icon",{attrs:{type:"ios-information-outline"}})],1)],1):e._e(),a(e.flatWidgets[e.schema.widget].View,{tag:"component",staticClass:"ep-widget-control",attrs:{schema:e.schema},on:{"on-event":e.onEvent}}),e.schema.description?a("div",{staticClass:"ep-widget-description"},[e._v(e._s(e.schema.description))]):e._e(),e.schema.dynamic?a("Button",{staticStyle:{"margin-top":"5px"},attrs:{size:e.schema.size||e.rootSchema.size,type:"dashed"}},[e._v("添加")]):e._e()],1)]],2)};h._withStripped=!0;var u={name:"EpWidgetItem",components:{VueDrag:m.drag.VueDrag},props:{schema:{type:Object,default:()=>({})},flatWidgets:{type:Object,default:()=>({})},flatSchemas:{type:Object,default:()=>({})},selectedSchema:{type:Object,default:()=>({key:""})},rootSchema:{type:Object,default:()=>({})}},data:()=>({}),computed:{store(){return this.$root.$options.extension.store},widgetType(){return this.schema.widget},cls(){return{"ep-widget-selected":this.schema.key===this.selectedSchema.key,"ep-widget-container":this.schema.container,"ep-widget-item-handle":"design"===this.tab}},logics(){return this.rootSchema.logics},tab(){return this.store.getTab()}},methods:{getPlaceholderCls(){return Object.keys(this.$slots).length||"design"!==this.tab?"":"ep-widget-grid-placeholder"},onOriginDynamicAdd(e,t){"design"!==this.tab&&(e.stopPropagation(),this.$emit("on-dynamic-add",t))},onDynamicAdd(e){this.$emit("on-dynamic-add",e)},onOriginDynamicRemove(e,t,a){e.stopPropagation(),this.$emit("on-dynamic-remove",t,a)},onDynamicRemove(e,t){this.$emit("on-dynamic-remove",e,t)},onViewAdd(e){this.$emit("on-add",e)},getStyle(){var{style:e,hidden:t}=this.schema,a="";return e&&(a=Object.keys(e).filter(t=>e[t]).map(t=>"".concat(t,": ").concat(e[t],";")).join("")),"design"===this.store.getTab()&&t&&(a+="opacity: 0.7;"),a},onOriginViewSelect(e,t){"design"===this.store.getTab()&&e.stopPropagation(),this.$emit("on-select",t)},onViewSelect(e){this.$emit("on-select",e)},onOriginViewDelete(e,t){e.stopPropagation(),this.$emit("on-delete",t)},onOriginViewCopy(e,t){e.stopPropagation(),this.$emit("on-copy",t)},onViewDelete(e){this.$emit("on-delete",e)},onViewCopy(e){this.$emit("on-copy",e)},onEvent(e,t){for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];this.dispatchEvent(e,t),this.$emit("on-event",...arguments)},dispatchEvent(e,t){var a=this.rootSchema.logics.filter(e=>e.key&&e.key===this.schema.key&&"event"===e.type),{store:s,$el:o}=this,n=new m.Context({$el:o,$render:this.$root.$options.extension.$render,store:s,instance:this,state:{}});a.length&&this.store.updateWidgetByEvent(this.schema.key,t,function(e){e.forEach(e=>{new m.Script(n).exec(e)})})}}},f=a(0),v=Object(f.a)(u,h,[],!1,null,null,null);v.options.__file="src/entry/item.vue";var y=v.exports,g=new m.Event,b={on:g.on.bind(g),off:g.off.bind(g),components:{EpWidgetItem:y,VueDrag:m.drag.VueDrag},data:()=>({oldModel:{},oldDiffs:{},mode:"edit"}),computed:{childrenSchema(){var{store:e}=this.$root.$options.extension;return m.helper.getRootSchemaChildren(e.getRootSchema())||[]},store(){return this.$root.$options.extension.store},$$store(){return this.$root.$options.extension.store.$$store},state(){return this.$$store.state},flatWidgets(){return this.store.getFlatWidgets()},flatSchemas(){return this.store.getFlatSchemas()},rootSchema(){return this.store.getRootSchema()},selectedSchema(){return this.store.getSelectedSchema()},rules(){return this.store.getFormRules()},model(){return this.store.getModel()},containerStyle(){var e=(this.store.getRootSchema().style||{}).container||{},t=e["background-color"],a="";return Array.isArray(e.background)&&(a=e.background.map(e=>new m.style.Background(e)).join(","),t&&(a=a?a+","+t:t),a="background:"+a+";"),a},contentStyle(){var e=this.store.getRootSchema().style||{},t=["container","background"];return Object.keys(e).map(a=>t.indexOf(a)>-1?"":"".concat(a,":").concat(e[a],";")).join("")}},watch:{model:{handler:function(e,t){var a=this.diffModel(e,this.oldModel);this.shouldChangeModel(a,this.oldDiffs)&&(this.oldDiffs=Object.assign({},a),this.oldModel=Object.assign({},e),this.changeWithModel(a))},deep:!0}},created(){var{mode:e}=this.$root.$options.extension;e&&(this.mode=e,this.changeMode(e))},methods:{validateFields(){return new Promise((e,t)=>{this.$refs.epForm.validate(a=>{a?e(a):t(new Error("check error"))})})},resetFields(){this.$refs.epForm.resetFields(),this.store.resetModel()},shouldChangeModel(e,t){var a=!1;if(Object.keys(e).length)for(var s in e)s in t&&e[s]===t[s]||(a=!0);return a},diffModel(e,t){var a={};for(var s in e)s in this.flatSchemas&&e[s]!==t[s]&&(a[s]=e[s]);return a},changeWithModel(e){var t=this.rootSchema.logics.filter(e=>e.key&&"value"===e.type),{store:a,$el:s}=this,o=new m.Context({$el:s,$render:this.$root.$options.extension.$render,store:a,instance:this,state:{}}),n={};t.forEach(t=>{t.key in e&&!(t.key in n)&&(n[t.key]=e[t.key])}),Object.keys(n).length&&this.store.updateWidgetByModel(e,function(e){e.forEach(e=>{new m.Script(o).exec(e)})})},checkEffect:(e,t)=>e.key&&t!==e.key&&Array.isArray(e.properties),onEvent(e,t){for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];this.$emit("on-event",...arguments);var n=0===t.indexOf("on-")?t.split("on-")[1]:t;e in g.$events&&n in g.$events[e]&&(g.$events[e][n]||[]).forEach(e=>{e(...s)})},onDynamicAdd(e){this.store.dynamicAddWidget(e.key)},onDynamicRemove(e,t){this.store.dynamicRemoveWidget(e.key,t)},changeMode(e){this.store.updateMode(e)},onWidgetSelect(e){var{tab:t,selectedSchema:a}=this.store.getState();"design"===t&&a&&a.key!==e.key&&(this.store.selectWidget(e.key),this.$emit("on-select",e))},onWidgetDelete(e){this.store.removeWidget(e.key),this.$emit("on-delete",e)},onWidgetCopy(e){this.store.copyWidget(e.key),this.$emit("on-copy",e)},onWidgetAdd(e){this.store.addWidgetChild(e.key,e.children.length,e.children[0]),this.$emit("on-add",e)}}},_=Object(f.a)(b,p,[],!1,null,null,null);_.options.__file="src/entry/index.vue";var S=_.exports,k=o,x=a(14),w=a(15),$=a(16),O=a(17),I=a(18),C=a(10),z=a(19),F=a(20),D=a(21),A=a(22),V=a(23),j=a(24),E=a(25),R=a(12),W=a(26),M=a(27),T=a(13);t.default=[{title:"表单",key:"form",widgets:[x,w,O,I,C,z,F,D,A,V,j,E,R,T]},{title:"展示",key:"display",widgets:[$,W]},{title:"布局",key:"layout",widgets:[M]}]},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return p}),a.d(t,"Setting",function(){return k}),a.d(t,"Schema",function(){return x});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget epiv-upload",attrs:{"data-epkey":e.schema.key}},["display"===e.mode?e._l(e.model[e.schema.key],function(t,s){return a("div",{key:"_"+s,staticClass:"epiv-upload-files"},[a("a",{staticClass:"epiv-upload-filename",on:{click:function(a){return e.getDownload(t.url,t.name)}}},[e._v(e._s(t.name))])])}):[e.schema.key?a("Upload",{attrs:{id:e.schema.key,accept:e.schema.option.accept,format:e._f("string2Array")(e.schema.option.format),action:e.schema.option.action,multiple:e.schema.option.multiple,"with-credentials":e.schema.option.withCredentials,"show-upload-list":!1,"max-size":e.schema.option.maxSize,headers:e.headers,data:e.schema.option.data,type:e.schema.option.type,name:e.schema.name,"before-upload":e.onBeforeUpload,"on-success":e.handleSuccessUpload,"on-error":e.handleUploadError,"on-format-error":e.handleUploadFormatError,"on-exceeded-size":e.handleSizeError}},["drag"===e.schema.option.type?a("div",{staticClass:"epiv-upload-drag",class:"epiv-upload-drag-"+e.rootSchema.size},[a("Icon",{attrs:{type:"ios-cloud-upload"}}),a("p",[e._v("点击或拖拽文件到此上传")])],1):a("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[e._v(e._s(e.schema.placeholder))])],1):e._e(),e.schema.option.showUploadList?e._l(e.model[e.schema.key],function(t,s){return a("div",{key:"_"+s,staticClass:"epiv-upload-files"},[a("a",{staticClass:"epiv-upload-filename",attrs:{title:"点击下载"},on:{click:function(a){return e.getDownload(t.url,t.name)}}},[e._v(e._s(t.name))]),a("Icon",{staticClass:"epiv-upload-file-remove",attrs:{type:"ios-trash-outline",title:"删除当前文件"},nativeOn:{click:function(t){return t.stopPropagation(),e.handleRemoveFile(s)}}})],1)}):e._e()]],2)};s._withStripped=!0;var o=a(3),n=a(1),{isNotEmptyString:i,isArray:r}=n.helper,l={filters:{string2Array:e=>"string"==typeof e?e.split(","):e},extends:o.a,computed:{headers(){var e={},{headers:t}=this.schema.option;return r(t)&&t.forEach(t=>{i(t.key)&&i(t.value)&&(e[t.key.trim()]=t.value.trim())}),e}},methods:{onBeforeUpload(e){var t=this.store.getModel(),a=t[this.schema.key].length,s=this.schema.option.multiple;if(a&&!s)return this.$Message.error("不支持多文件上传"),!1;var o=t[this.schema.key].find(t=>e.name===t.name);if(a&&o)return this.$Message.error("不能重复上传"),!1;this.$emit("on-before-upload",...arguments)},handleSuccessUpload(e,t,a){var{adapter:s}=this.schema.option;try{var o=new Function("data",s)(e);if(!o.name||!o.url)return}catch(e){console.log("返回数据不对 需要做适配：".concat(e))}var n={name:o.name,url:o.url},i=this.model[this.schema.key]||[];i.push(n),this.store.updateModel({[this.schema.key]:[...i]}),this.$emit("on-upload-success",...arguments)},handleUploadError(e,t,a){e&&this.$emit("on-upload-error",...arguments)},handleUploadFormatError(e,t){this.$Message.warning({content:"仅支持 ".concat(this.schema.option.format," 格式文件的上传"),duration:4}),this.$emit("on-upload-format-error",...arguments)},handleRemoveFile(e){var t=this.model[this.schema.key];t.splice(e,1),this.store.updateModel({[this.schema.key]:t}),this.$emit("on-remove-file",...arguments)},handleSizeError(e,t){this.$Message.warning({content:"上传文件大小不能超过 ".concat(this.schema.option.maxSize," kb"),duration:5}),this.$emit("on-size-error",...arguments)},getDownload(e,t){this.$Message.info("文件已开始下载，请勿重复点击操作！"),fetch(e).then(e=>e.blob().then(e=>{this.funDownload(e,t)}))},funDownload(e,t){var a=document.createElement("a"),s=new Blob([e]);a.download=t,a.style.display="none",a.href=URL.createObjectURL(s),document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},c=a(0),d=Object(c.a)(l,s,[],!1,null,null,null);d.options.__file="src/widgets/upload/View.vue";var p=d.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[a("span",{attrs:{slot:"disabled"},slot:"disabled"}),e.$slots.action?[e._t("action")]:a("FormItem",{attrs:{label:"上传地址"}},[a("Input",{attrs:{size:"small",type:"textarea",placeholder:"http://...或https://..."},model:{value:e.schemaOption.action,callback:function(t){e.$set(e.schemaOption,"action",t)},expression:"schemaOption.action"}})],1),e.$slots.adapter?[e._t("adapter")]:a("FormItem",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("匹配数据"),a("field-tip",{attrs:{content:e.adapterContnet}})],1),a("Input",{attrs:{rows:4,autosize:{minRows:4,maxRows:12},size:"small",type:"textarea",placeholder:"return { name: data.name, url: data.url }"},model:{value:e.schemaOption.adapter,callback:function(t){e.$set(e.schemaOption,"adapter",t)},expression:"schemaOption.adapter"}})],1),e.$slots.multiple?[e._t("multiple")]:a("FormItem",{attrs:{label:"是否多选"}},[a("i-switch",{model:{value:e.schemaOption.multiple,callback:function(t){e.$set(e.schemaOption,"multiple",t)},expression:"schemaOption.multiple"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),e.$slots.withCredentials?[e._t("withCredentials")]:a("FormItem",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("传cookie"),a("field-tip",{attrs:{content:"是否在CORS跨域情况下携带cookie"}})],1),a("i-switch",{model:{value:e.schemaOption.withCredentials,callback:function(t){e.$set(e.schemaOption,"withCredentials",t)},expression:"schemaOption.withCredentials"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),e.$slots.showUploadList?[e._t("showUploadList")]:a("FormItem",{attrs:{label:"显示列表"}},[a("i-switch",{model:{value:e.schemaOption.showUploadList,callback:function(t){e.$set(e.schemaOption,"showUploadList",t)},expression:"schemaOption.showUploadList"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),e.$slots.maxSize?[e._t("maxSize")]:a("FormItem",{attrs:{label:"最大尺寸"}},[a("Row",[a("Col",{attrs:{span:"9"}},[a("InputNumber",{attrs:{size:"small"},model:{value:e.schemaOption.maxSize,callback:function(t){e.$set(e.schemaOption,"maxSize",t)},expression:"schemaOption.maxSize"}})],1),a("Col",{attrs:{span:"12",offset:2}},[a("span",[e._v("kb")])])],1)],1),e.$slots.data?[e._t("data")]:a("FormItem",{class:{"ivu-form-item-error":e.extDataError},attrs:{label:"额外参数"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("额外参数"),a("field-tip",{attrs:{content:"必须为 JSON"}})],1),a("Input",{attrs:{size:"small",type:"textarea"},model:{value:e.extData,callback:function(t){e.extData=t},expression:"extData"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.extDataError,expression:"extDataError"}],staticClass:"ivu-form-item-error-tip",staticStyle:{position:"static"}},[e._v("必须为 JSON")])],1),e.$slots.type?[e._t("type")]:a("FormItem",{attrs:{label:"上传类型"}},[a("RadioGroup",{model:{value:e.schemaOption.type,callback:function(t){e.$set(e.schemaOption,"type",t)},expression:"schemaOption.type"}},[a("Radio",{attrs:{label:"select"}},[e._v("点击选择")]),a("Radio",{attrs:{label:"drag"}},[e._v("拖拽")])],1)],1),e.$slots.format?[e._t("format")]:a("div",{staticClass:"ep-setting-block"},[a("h5",{staticClass:"ep-setting-block-title"},[e._v("格式")]),a("div",{staticClass:"ep-setting-block-btns"},[a("Button",{staticStyle:{"margin-right":"4px"},attrs:{size:"small",type:"ghost"},on:{click:e.onSelectAll}},[e._v("全选")]),a("Button",{attrs:{size:"small",type:"ghost"},on:{click:e.onInverseSelect}},[e._v("反选")])],1),a("CheckboxGroup",{attrs:{size:"small"},model:{value:e.schemaOption.format,callback:function(t){e.$set(e.schemaOption,"format",t)},expression:"schemaOption.format"}},[e._l(e.extensions,function(t){return a("Checkbox",{key:t,staticStyle:{width:"56px"},attrs:{label:t}},[e._v(e._s(t))])}),e.formatAdding?a("Input",{ref:"newFormat",staticStyle:{width:"53px"},attrs:{size:"small"},on:{"on-enter":e.onFormatAddEnter},model:{value:e.newFormat,callback:function(t){e.newFormat=t},expression:"newFormat"}}):a("Button",{attrs:{size:"small",icon:"plus",type:"dashed"},on:{click:e.onFormatAdd}})],2)],1),e.$slots.headers?[e._t("headers")]:a("div",{staticClass:"ep-setting-block"},[a("h5",{staticClass:"ep-setting-block-title"},[e._v("请求头")]),e._l(e.schemaOption.headers,function(t,s){return a("Row",{key:t.key+s,staticStyle:{"margin-top":"6px"}},[a("Col",{attrs:{span:"8",offset:"1"}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"请输入key"},model:{value:e.schemaOption.headers[s].key,callback:function(t){e.$set(e.schemaOption.headers[s],"key",t)},expression:"schemaOption.headers[k].key"}})],1),a("Col",{attrs:{span:"11",offset:"1"}},[a("Input",{attrs:{type:"text",size:"small",placeholder:"请输入value"},model:{value:e.schemaOption.headers[s].value,callback:function(t){e.$set(e.schemaOption.headers[s],"value",t)},expression:"schemaOption.headers[k].value"}})],1),a("Col",{staticStyle:{"line-height":"24px"},attrs:{span:"2",offset:"1"}},[a("Icon",{attrs:{type:"trash-a",title:"删除"},nativeOn:{click:function(t){return e.onHeaderDelete(s)}}})],1)],1)}),a("Row",{staticClass:"ep-setting-option-add"},[a("Button",{attrs:{type:"dashed",size:"small"},on:{click:e.onHeaderAdd}},[e._v("+ 添加")])],1)],2),e._t("default")],2)};m._withStripped=!0;var h=a(2),u=["png","jpg","jpeg","bmp","mpg","mpeg","mp4","3gp","rm","rmvb","mov","avi","wma","mp3","wmv","asf","rar","zip","doc","docx","ppt","pptx","xls","xlsx","txt","dat","pdf"],f=a(5);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach(function(t){g(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var{include:b}=n.helper,_={components:{FieldTip:f.a},extends:h.a,data:()=>({extensions:u,formatAdding:!1,newFormat:"",extData:"{}",extDataError:!1,adapterContnet:"return格式必须为:{name, url}\ndata 为接口返回值，示例：\nreturn {\n  name: data.filename,\n  url: data.url\n}"}),computed:{schemaOption(){return this.selectedSchema.option||{}}},watch:{extData(e){if(e&&e.trim()){var t=e.trim();if(/^{.*}$/.test(t)){var a=this.parseJson(t);a?(this.extDataError=!1,this.store.updateWidgetOption(this.selectedSchema.key,{data:a})):this.extDataError=!0}else this.extDataError=!0}else this.extDataError=!1}},methods:{parseJson(e){var t=null;try{t=JSON.parse(e)}catch(e){}return t},onFormatAdd(){this.formatAdding=!0},onFormatAddEnter(e){e.preventDefault();var t=this.newFormat.trim();t&&!b(this.extensions,t)?this.extensions.push(this.newFormat):this.formatAdding=!1,this.newFormat=""},onHeaderDelete(e){var t=this.selectedSchema.key,a=y({},this.schemaOption);a.headers.length<1||(a.headers.splice(e,1),this.store.updateWidgetOption(t,a))},onHeaderAdd(e){var t=this.selectedSchema.key,a=y({},this.schemaOption);Array.isArray(a.headers)||(a.headers=[]),a.headers.push({key:"",value:""}),this.store.updateWidgetOption(t,a)},onSelectAll(){var e=this.selectedSchema.key,t=y({},this.schemaOption);t.format=this.extensions,this.store.updateWidgetOption(e,t)},onInverseSelect(){var e=this.selectedSchema.key,t=y({},this.schemaOption),a=t.format,s=[...this.extensions].filter(e=>!b(a,e));t.format=s,this.store.updateWidgetOption(e,t)}}},S=Object(c.a)(_,m,[],!1,null,null,null);S.options.__file="src/widgets/upload/Setting.vue";var k=S.exports,x=n.schema.base.upload},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return p}),a.d(t,"Setting",function(){return y}),a.d(t,"Schema",function(){return g});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget",attrs:{"data-epkey":e.schema.key}},[e.schema.key?a("Button",{attrs:{loading:e.loading,icon:e.schema.option.icon,type:e.getButtonType(e.schema),disabled:e.schema.disabled,size:e.schema.size||e.rootSchema.size,long:e.schema.option.long,ghost:e.isGhost(e.schema),shape:"circle"!==e.schema.option.shape?void 0:e.schema.option.shape},on:{click:e.onClick}},[e._v(e._s(e.schema.option.text))]):e._e()],1)};s._withStripped=!0;var o=a(1),n=a(3),i=a(9),r=parseInt(i.version||2),l={extends:n.a,data:()=>({loading:!1,mainVersion:r,IVIEW_V3:3}),methods:{getButtonType(e){var{type:t}=e.option,a=t;return r>=3&&"ghost"===t&&(a="default"),a},isGhost(e){var{type:t,ghost:a}=e.option;return"ghost"===t||Boolean(a)},onClick(){var{script:e}=this.schema.option,{store:t,$el:a}=this,s=new o.Context({$el:a,$render:this.$root.$options.extension.$render,store:t,instance:this,state:{loading:this.loading}});new o.Script(s).exec(e),this.event("on-click",...arguments)}}},c=a(0),d=Object(c.a)(l,s,[],!1,null,null,null);d.options.__file="src/widgets/button/View.vue";var p=d.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[a("span",{attrs:{slot:"label"},slot:"label"}),a("span",{attrs:{slot:"description"},slot:"description"}),a("span",{attrs:{slot:"placeholder"},slot:"placeholder"}),a("span",{attrs:{slot:"name"},slot:"name"}),a("span",{attrs:{slot:"rule"},slot:"rule"}),a("span",{attrs:{slot:"help"},slot:"help"}),e.$slots.text?[e._t("text")]:a("FormItem",{attrs:{label:"文字"}},[a("Input",{attrs:{size:"small"},model:{value:e.selectedSchema.option.text,callback:function(t){e.$set(e.selectedSchema.option,"text",t)},expression:"selectedSchema.option.text"}})],1),e.$slots.long?[e._t("long")]:a("FormItem",{attrs:{label:"长度"}},[a("Checkbox",{attrs:{size:"small"},model:{value:e.selectedSchema.option.long,callback:function(t){e.$set(e.selectedSchema.option,"long",t)},expression:"selectedSchema.option.long"}},[e._v("通栏")])],1),e.$slots.shape?[e._t("shape")]:a("FormItem",{attrs:{label:"形状"}},[a("RadioGroup",{attrs:{size:"small"},model:{value:e.selectedSchema.option.shape,callback:function(t){e.$set(e.selectedSchema.option,"shape",t)},expression:"selectedSchema.option.shape"}},[a("Radio",{attrs:{label:"circle"}},[e._v("圆角")]),a("Radio",{attrs:{label:"square"}},[e._v("方角")])],1)],1),e.MAIN_VERSION>=e.IVIEW_V3?[e.$slots.ghost?[e._t("ghost")]:a("FormItem",{attrs:{label:"幽灵按钮"}},[a("i-switch",{model:{value:e.selectedSchema.option.ghost,callback:function(t){e.$set(e.selectedSchema.option,"ghost",t)},expression:"selectedSchema.option.ghost"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1)]:e._e(),e.$slots.type?[e._t("type")]:a("FormItem",{attrs:{label:"类型"}},[a("RadioGroup",{attrs:{size:"small"},model:{value:e.selectedSchema.option.type,callback:function(t){e.$set(e.selectedSchema.option,"type",t)},expression:"selectedSchema.option.type"}},[a("Radio",{attrs:{label:"default"}},[e._v("Default")]),e.MAIN_VERSION<e.IVIEW_V3?a("Radio",{attrs:{label:"ghost"}},[e._v("Ghost")]):e._e(),a("Radio",{attrs:{label:"dashed"}},[e._v("Dashed")]),a("Radio",{attrs:{label:"primary"}},[e._v("Primary")]),a("Radio",{attrs:{label:"text"}},[e._v("Text")])],1)],1),e.$slots.icon?[e._t("icon")]:a("FormItem",{attrs:{label:"图标"}},[a("Input",{attrs:{size:"small",placeholder:"iview icon或自定义class(iview@3支持)"},model:{value:e.selectedSchema.option.icon,callback:function(t){e.$set(e.selectedSchema.option,"icon",t)},expression:"selectedSchema.option.icon"}})],1),e.$slots.script?[e._t("script")]:a("FormItem",{attrs:{label:"点击腳本"}},[a("Input",{attrs:{size:"small",rows:6,autosize:{minRows:6,maxRows:12},type:"textarea",placeholder:"输入 console.log(ctx) 看有哪些方法可用"},model:{value:e.selectedSchema.option.script,callback:function(t){e.$set(e.selectedSchema.option,"script",t)},expression:"selectedSchema.option.script"}})],1),e._t("default")],2)};m._withStripped=!0;var h=a(2),u=parseInt(i.version||2),f={extends:h.a,data:()=>({MAIN_VERSION:u,IVIEW_V3:3}),methods:{}},v=Object(c.a)(f,m,[],!1,null,null,null);v.options.__file="src/widgets/button/Setting.vue";var y=v.exports,g=o.schema.base.button},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return r}),a.d(t,"Setting",function(){return p}),a.d(t,"Schema",function(){return m});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget epiv-input",attrs:{"data-epkey":e.schema.key}},["display"===e.mode?[e.schema.option.prefix?a("span",[e._v(e._s(e.schema.option.prefix))]):e._e(),a("span",[e._v(e._s(e.model[e.schema.key]))]),e.schema.option.suffix?a("span",[e._v(e._s(e.schema.option.suffix))]):e._e()]:[e.schema.key?a("Input",{class:{"epiv-input-prefix":e.schema.option.prefix,"epiv-input-suffix":e.schema.option.suffix},attrs:{type:e.schema.option.password?"password":"text",placeholder:e.schema.placeholder,disabled:e.schema.disabled,size:e.schema.size||e.rootSchema.size},on:{"on-enter":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-enter"].concat(s))},"on-change":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-change"].concat(s))},"on-focus":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-focus"].concat(s))},"on-blur":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-blur"].concat(s))},"on-keyup":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-keyup"].concat(s))},"on-keydown":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-keydown"].concat(s))},"on-keypress":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-keypress"].concat(s))}},nativeOn:{click:function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-click"].concat(s))}},model:{value:e.model[e.schema.key],callback:function(t){e.$set(e.model,e.schema.key,"string"==typeof t?t.trim():t)},expression:"model[schema.key]"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.schema.option.prefix,expression:"schema.option.prefix"}],attrs:{slot:"prepend"},slot:"prepend"},[e._v(e._s(e.schema.option.prefix))]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.schema.option.suffix,expression:"schema.option.suffix"}],attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.schema.option.suffix))])]):e._e()]],2)};s._withStripped=!0;var o={extends:a(3).a},n=a(0),i=Object(n.a)(o,s,[],!1,null,null,null);i.options.__file="src/widgets/input/View.vue";var r=i.exports,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[e.$slots.defaultValue?[e._t("defaultValue")]:a("FormItem",{attrs:{label:"默认值"}},[a("Input",{attrs:{size:"small",placeholder:"请输入默认值"},model:{value:e.selectedSchema.default,callback:function(t){e.$set(e.selectedSchema,"default",t)},expression:"selectedSchema.default"}})],1),e.$slots.password?[e._t("password")]:a("FormItem",{attrs:{label:"密码"}},[a("i-switch",{model:{value:e.selectedSchema.option.password,callback:function(t){e.$set(e.selectedSchema.option,"password",t)},expression:"selectedSchema.option.password"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),e.$slots.prefix?[e._t("prefix")]:a("FormItem",{attrs:{label:"前置文字"}},[a("Input",{attrs:{size:"small",placeholder:"请输入前置文字"},model:{value:e.selectedSchema.option.prefix,callback:function(t){e.$set(e.selectedSchema.option,"prefix",t)},expression:"selectedSchema.option.prefix"}})],1),e.$slots.suffix?[e._t("suffix")]:a("FormItem",{attrs:{label:"后置文字"}},[a("Input",{attrs:{size:"small",placeholder:"请输入后置文字"},model:{value:e.selectedSchema.option.suffix,callback:function(t){e.$set(e.selectedSchema.option,"suffix",t)},expression:"selectedSchema.option.suffix"}})],1)],2)};l._withStripped=!0;var c={extends:a(2).a},d=Object(n.a)(c,l,[],!1,null,null,null);d.options.__file="src/widgets/input/Setting.vue";var p=d.exports,m=a(1).schema.base.input},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return r}),a.d(t,"Setting",function(){return p}),a.d(t,"Schema",function(){return m});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget",attrs:{"data-epkey":e.schema.key}},["display"===e.mode?[a("span",[e._v(e._s(e.model[e.schema.key]))])]:[e.schema.key?a("Input",{attrs:{type:"textarea",rows:e.schema.option.rows,placeholder:e.schema.placeholder,disabled:e.schema.disabled,size:e.schema.size||e.rootSchema.size},on:{"on-enter":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-enter"].concat(s))},"on-change":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-change"].concat(s))},"on-focus":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-focus"].concat(s))},"on-blur":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-blur"].concat(s))},"on-keyup":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-keyup"].concat(s))},"on-keydown":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-keydown"].concat(s))},"on-keypress":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-keypress"].concat(s))}},nativeOn:{click:function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-click"].concat(s))}},model:{value:e.model[e.schema.key],callback:function(t){e.$set(e.model,e.schema.key,"string"==typeof t?t.trim():t)},expression:"model[schema.key]"}}):e._e()]],2)};s._withStripped=!0;var o={extends:a(3).a},n=a(0),i=Object(n.a)(o,s,[],!1,null,null,null);i.options.__file="src/widgets/textarea/View.vue";var r=i.exports,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[e.$slots.defaultValue?[e._t("defaultValue")]:a("FormItem",{attrs:{label:"默认值"}},[a("Input",{attrs:{size:"small",type:"textarea",placeholder:"请输入默认值"},model:{value:e.selectedSchema.default,callback:function(t){e.$set(e.selectedSchema,"default",t)},expression:"selectedSchema.default"}})],1),e.$slots.rows?[e._t("rows")]:a("FormItem",{attrs:{label:"高度"}},[a("InputNumber",{attrs:{type:"text",size:"small",min:1,placeholder:"请输入高度"},model:{value:e.selectedSchema.option.rows,callback:function(t){e.$set(e.selectedSchema.option,"rows",t)},expression:"selectedSchema.option.rows"}})],1),e._t("default")],2)};l._withStripped=!0;var c={extends:a(2).a},d=Object(n.a)(c,l,[],!1,null,null,null);d.options.__file="src/widgets/textarea/Setting.vue";var p=d.exports,m=a(1).schema.base.textarea},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return r}),a.d(t,"Setting",function(){return p}),a.d(t,"Schema",function(){return m});var s=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ep-widget",attrs:{"data-epkey":this.schema.key}},[t("div",[this._v(this._s(this.parseContent(this.schema.option.content)))])])};s._withStripped=!0;var o={extends:a(3).a,computed:{content(){return this.parseContent(this.schema.option.content)}},methods:{parseContent(e){var t=e.match(/{{([^{}]*)}}/g),a=e;return t&&(a=t.reduce((e,t)=>e.replace(t,this.calculateExp(t)),e)),a},calculateExp(e){var t=e.match(/{{([\s\S]*)}}/);if(!Array.isArray(t))return e;var a=t[1],s=e;try{var o=new Function("$f","return "+a.trim())(this.store.getFormData());void 0!==o&&(s="number"==typeof o?Number(o.toFixed(4)):o)}catch(e){}return s}}},n=a(0),i=Object(n.a)(o,s,[],!1,null,null,null);i.options.__file="src/widgets/text/View.vue";var r=i.exports,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[a("span",{attrs:{slot:"name"},slot:"name"}),a("span",{attrs:{slot:"label"},slot:"label"}),a("span",{attrs:{slot:"placeholder"},slot:"placeholder"}),a("span",{attrs:{slot:"description"},slot:"description"}),a("span",{attrs:{slot:"help"},slot:"help"}),a("span",{attrs:{slot:"disabled"},slot:"disabled"}),e.$slots.content?[e._t("content")]:a("FormItem",{attrs:{label:"内容"}},[a("Input",{attrs:{size:"small",type:"textarea",autosize:{minRows:6,maxRows:16},placeholder:"请输入内容，支持双花括号表达式"},model:{value:e.selectedSchema.option.content,callback:function(t){e.$set(e.selectedSchema.option,"content",t)},expression:"selectedSchema.option.content"}})],1),e._t("default")],2)};l._withStripped=!0;var c={extends:a(2).a},d=Object(n.a)(c,l,[],!1,null,null,null);d.options.__file="src/widgets/text/Setting.vue";var p=d.exports,m=a(1).schema.base.text},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return r}),a.d(t,"Setting",function(){return p}),a.d(t,"Schema",function(){return m});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget epiv-inputNumber",attrs:{"data-epkey":e.schema.key}},["display"===e.mode?[a("span",[e._v(e._s(e.model[e.schema.key]))])]:[e.schema.key?a("InputNumber",{attrs:{min:e.schema.option.min,max:e.schema.option.max,step:e.schema.option.step,precision:e.schema.option.precision,placeholder:e.schema.placeholder,disabled:e.schema.disabled,size:e.schema.size||e.rootSchema.size},on:{"on-change":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-change"].concat(s))},"on-focus":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-focus"].concat(s))},"on-blur":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-blur"].concat(s))}},model:{value:e.model[e.schema.key],callback:function(t){e.$set(e.model,e.schema.key,t)},expression:"model[schema.key]"}}):e._e()]],2)};s._withStripped=!0;var o={extends:a(3).a},n=a(0),i=Object(n.a)(o,s,[],!1,null,null,null);i.options.__file="src/widgets/inputNumber/View.vue";var r=i.exports,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[e.$slots.defaultValue?[e._t("defaultValue")]:a("FormItem",{attrs:{label:"默认值"}},[a("InputNumber",{attrs:{size:"small",placeholder:"默认值",min:e.selectedSchema.option.min,max:e.selectedSchema.option.max,step:e.selectedSchema.option.step,precision:e.selectedSchema.option.precision},model:{value:e.selectedSchema.default,callback:function(t){e.$set(e.selectedSchema,"default",t)},expression:"selectedSchema.default"}})],1),e.$slots.min?[e._t("min")]:a("FormItem",{attrs:{label:"最小值"}},[a("InputNumber",{attrs:{transfer:!0,size:"small"},model:{value:e.selectedSchema.option.min,callback:function(t){e.$set(e.selectedSchema.option,"min",t)},expression:"selectedSchema.option.min"}})],1),e.$slots.max?[e._t("max")]:a("FormItem",{attrs:{label:"最大值"}},[a("InputNumber",{attrs:{transfer:!0,size:"small"},model:{value:e.selectedSchema.option.max,callback:function(t){e.$set(e.selectedSchema.option,"max",t)},expression:"selectedSchema.option.max"}})],1),e.$slots.step?[e._t("step")]:a("FormItem",{attrs:{label:"步长"}},[a("InputNumber",{attrs:{transfer:!0,size:"small",min:0},model:{value:e.selectedSchema.option.step,callback:function(t){e.$set(e.selectedSchema.option,"step",t)},expression:"selectedSchema.option.step"}})],1),e.$slots.precision?[e._t("precision")]:a("FormItem",{attrs:{label:"精度"}},[a("InputNumber",{attrs:{transfer:!0,size:"small",min:0},model:{value:e.selectedSchema.option.precision,callback:function(t){e.$set(e.selectedSchema.option,"precision",t)},expression:"selectedSchema.option.precision"}})],1),e._t("default")],2)};l._withStripped=!0;var c={extends:a(2).a},d=Object(n.a)(c,l,[],!1,null,null,null);d.options.__file="src/widgets/inputNumber/Setting.vue";var p=d.exports,m=a(1).schema.base.inputNumber},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return c}),a.d(t,"Setting",function(){return f}),a.d(t,"Schema",function(){return v});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget",attrs:{"data-epkey":e.schema.key}},["display"===e.mode?[a("span",[e._v(e._s(e.displayValue))])]:[e.schema.key?a("Select",{attrs:{placeholder:e.schema.placeholder,disabled:e.schema.disabled,size:e.schema.size||e.rootSchema.size,transfer:"",filterable:"",clearable:e.schema.option.clearable,multiple:e.schema.option.multiple},on:{"on-change":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-change"].concat(s))}},model:{value:e.model[e.schema.key],callback:function(t){e.$set(e.model,e.schema.key,t)},expression:"model[schema.key]"}},e._l(e.options,function(t,s){return a("Option",{key:s,attrs:{value:t.key}},[e._v(e._s(t.value))])}),1):e._e()]],2)};s._withStripped=!0;var o=a(3),n=a(6),i={extends:o.a,mixins:[n.a],computed:{displayValue(){var{multiple:e}=this.schema.option,t=this.model[this.schema.key],a=[];if(e)a=t?[]:t.map(e=>{var t=this.options.find(t=>t.key===e);return!!t&&t.value});else{var s=this.options.find(e=>e.key===t);a=void 0!==s?s.value:[]}return a+""}}},r=a(0),l=Object(r.a)(i,s,[],!1,null,null,null);l.options.__file="src/widgets/select/View.vue";var c=l.exports,d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[a("data-source",{attrs:{store:e.store},on:{success:e.onSuccess}}),e.$slots.defaultValue?[e._t("defaultValue")]:["static"===e.selectedSchema.option.type?a("FormItem",{attrs:{label:"默认值"}},[a("Select",{attrs:{placeholder:"请选择默认值",size:"small",transfer:"",filterable:"",clearable:!0,multiple:e.selectedSchema.option.multiple},model:{value:e.selectedSchema.default,callback:function(t){e.$set(e.selectedSchema,"default",t)},expression:"selectedSchema.default"}},e._l(e.getSchemaData(),function(t,s){return a("Option",{key:t.key,attrs:{value:t.key}},[e._v(e._s(t.value))])}),1)],1):e._e()],a("FormItem",{attrs:{label:"允许清空"}},[a("i-switch",{model:{value:e.selectedSchema.option.clearable,callback:function(t){e.$set(e.selectedSchema.option,"clearable",t)},expression:"selectedSchema.option.clearable"}})],1),e.$slots.multiple?[e._t("multiple")]:a("FormItem",{attrs:{label:"是否多选"}},[a("i-switch",{model:{value:e.selectedSchema.option.multiple,callback:function(t){e.$set(e.selectedSchema.option,"multiple",t)},expression:"selectedSchema.option.multiple"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),e._t("default")],2)};d._withStripped=!0;var p=a(1),m=a(2),h={components:{DataSource:a(4).a},extends:m.a,watch:{"selectedSchema.option.multiple"(e){var{key:t,type:a}=this.selectedSchema,s=p.TypeBuilder.resolve(a),o=e?"array<".concat(s,">"):s;this.store.updateWidgetType(t,o);var n=o.indexOf("array")>-1?[]:void 0;this.store.updateWidgetDefault({[t]:n})}},methods:{onSuccess(e){var t=this.selectedSchema.key;this.store.updateWidgetOption(t,{dynamicData:e})},getSchemaData(){return[...this.selectedSchema.option.data]}}},u=Object(r.a)(h,d,[],!1,null,null,null);u.options.__file="src/widgets/select/Setting.vue";var f=u.exports,v=p.schema.base.select},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return p}),a.d(t,"Setting",function(){return v}),a.d(t,"Schema",function(){return y});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget",attrs:{"data-epkey":e.schema.key}},["display"===e.mode?[a("span",[e._v(e._s(e.model[e.schema.key]))])]:[e.schema.key?a("AutoComplete",{attrs:{size:e.schema.size||e.rootSchema.size,placeholder:e.schema.placeholder,disabled:e.schema.disabled,clearable:e.schema.option.clearable},on:{"on-search":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.onSearch.apply(void 0,["on-search"].concat(s))},"on-change":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-change"].concat(s))},"on-select":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-select"].concat(s))},"on-focus":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-focus"].concat(s))},"on-blur":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-blur"].concat(s))}},model:{value:e.model[e.schema.key],callback:function(t){e.$set(e.model,e.schema.key,"string"==typeof t?t.trim():t)},expression:"model[schema.key]"}},e._l(e.list||[],function(t,s){return a("Option",{key:s+"-",attrs:{value:t}},[e._v(e._s(t))])}),1):e._e()]],2)};s._withStripped=!0;var o=a(1),n=a(3),{ajax:i,debounce:r}=o.helper,l={extends:n.a,data:()=>({list:[],searchValue:"",worker:null}),mounted(){this.worker=new o.Worker,this.listenerMessage()},destroyed(){this.worker.terminate()},methods:{listenerMessage(){this.worker.onmessage=(e=>{var{message:t,success:a,data:s}=e.data;if(a){var{key:o}=this.schema;this.store.updateWidgetOption(o,{dynamicData:s}),this.$emit("success",s),this.list=(s||[]).filter(e=>(e+="")&&e.indexOf(this.searchValue)>-1)}else this.$emit("error",t)})},onSearch(e,t){this.searchValue=t;var{type:a,data:s,url:o,adapter:n}=this.schema.option,i=[];"static"===a?i=s.filter(e=>(e+="")&&e.indexOf(t)>-1):"dynamic"===a&&o&&t.trim()&&this.getDynamicData(o,t,n,this),this.list=i},getDynamicData:r((e,t,a,s)=>{i("".concat(e,"?").concat(t)).then(e=>{(void 0).worker.postMessage({action:"fetch",data:e,fn:a})}).catch(e=>{s.$emit("error",{success:!1,message:e})})},1e3)}},c=a(0),d=Object(c.a)(l,s,[],!1,null,null,null);d.options.__file="src/widgets/autoComplete/View.vue";var p=d.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[e.$slots.clearable?[e._t("clearable")]:a("FormItem",{attrs:{label:"允许清空"}},[a("i-switch",{model:{value:e.selectedSchema.option.clearable,callback:function(t){e.$set(e.selectedSchema.option,"clearable",t)},expression:"selectedSchema.option.clearable"}})],1),a("data-source",{attrs:{store:e.store,"data-type":"string"},on:{success:e.onSuccess}}),e.$slots.defaultValue?[e._t("defaultValue")]:a("FormItem",{attrs:{label:"默认值"}},[a("Input",{attrs:{size:"small",placeholder:"请输入默认值"},model:{value:e.selectedSchema.default,callback:function(t){e.$set(e.selectedSchema,"default",t)},expression:"selectedSchema.default"}})],1)],2)};m._withStripped=!0;var h=a(2),u={components:{DataSource:a(4).a},extends:h.a,methods:{onSuccess(e){var t=this.selectedSchema.key;this.store.updateWidgetOption(t,{dynamicData:e})}}},f=Object(c.a)(u,m,[],!1,null,null,null);f.options.__file="src/widgets/autoComplete/Setting.vue";var v=f.exports,y=o.schema.base.autoComplete},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return c}),a.d(t,"Setting",function(){return u}),a.d(t,"Schema",function(){return f});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget",attrs:{"data-epkey":e.schema.key}},["display"===e.mode?[a("span",[e._v(e._s(e.displayValue))])]:[e.schema.key?a("RadioGroup",{attrs:{disabled:e.schema.disabled,size:e.schema.size||e.rootSchema.size,vertical:"vertical"===e.schema.option.direction},on:{"on-change":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-change"].concat(s))}},model:{value:e.model[e.schema.key],callback:function(t){e.$set(e.model,e.schema.key,t)},expression:"model[schema.key]"}},e._l(e.options||[],function(t,s){return a("Radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])}),1):e._e()]],2)};s._withStripped=!0;var o=a(3),n=a(6),i={extends:o.a,mixins:[n.a],computed:{displayValue(){var e=this.model[this.schema.key];return this.options.filter(t=>t.key===e).map(e=>e.value)+""}}},r=a(0),l=Object(r.a)(i,s,[],!1,null,null,null);l.options.__file="src/widgets/radio/View.vue";var c=l.exports,d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[a("span",{attrs:{slot:"placeholder"},slot:"placeholder"}),a("data-source",{attrs:{store:e.store},on:{success:e.onSuccess}}),e.$slots.defaultValue?[e._t("defaultValue")]:["static"===e.selectedSchema.option.type?a("FormItem",{attrs:{label:"默认值"}},[a("RadioGroup",{attrs:{size:"small"},model:{value:e.selectedSchema.default,callback:function(t){e.$set(e.selectedSchema,"default",t)},expression:"selectedSchema.default"}},e._l(e.selectedSchema.option.data,function(t,s){return a("Radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])}),1)],1):e._e()],e.$slots.direction?[e._t("direction")]:a("FormItem",{attrs:{label:"排列方式"}},[a("RadioGroup",{attrs:{size:"small"},model:{value:e.selectedSchema.option.direction,callback:function(t){e.$set(e.selectedSchema.option,"direction",t)},expression:"selectedSchema.option.direction"}},[a("Radio",{attrs:{label:"vertical"}},[e._v("垂直排列")]),a("Radio",{attrs:{label:"horizontal"}},[e._v("水平排列")])],1)],1),e._t("default")],2)};d._withStripped=!0;var p=a(2),m={components:{DataSource:a(4).a},extends:p.a,methods:{onSuccess(e){var t=this.selectedSchema.key;this.store.updateWidgetOption(t,{dynamicData:e})}}},h=Object(r.a)(m,d,[],!1,null,null,null);h.options.__file="src/widgets/radio/Setting.vue";var u=h.exports,f=a(1).schema.base.radio},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return c}),a.d(t,"Setting",function(){return u}),a.d(t,"Schema",function(){return f});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget",attrs:{"data-epkey":e.schema.key}},["display"===e.mode?[a("span",[e._v(e._s(e.displayValue))])]:[e.schema.key?a("CheckboxGroup",{class:e.cls,attrs:{size:e.schema.size||e.rootSchema.size},on:{"on-change":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-change"].concat(s))}},model:{value:e.model[e.schema.key],callback:function(t){e.$set(e.model,e.schema.key,t)},expression:"model[schema.key]"}},e._l(e.options||[],function(t,s){return a("Checkbox",{key:s,attrs:{disabled:e.schema.disabled,label:t.key}},[e._v(e._s(t.value))])}),1):e._e()]],2)};s._withStripped=!0;var o=a(3),n=a(6),i={extends:o.a,mixins:[n.a],computed:{cls(){return{"epiv-checkbox-vertical":"vertical"===this.schema.option.direction}},displayValue(){var e=this.model[this.schema.key];return(e?e.map(e=>{var t=this.options.find(t=>t.key===e);return!!t&&t.value}):[])+""}}},r=a(0),l=Object(r.a)(i,s,[],!1,null,null,null);l.options.__file="src/widgets/checkbox/View.vue";var c=l.exports,d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[a("span",{attrs:{slot:"placeholder"},slot:"placeholder"}),a("data-source",{attrs:{store:e.store},on:{success:e.onSuccess}}),e.$slots.defaultValue?[e._t("defaultValue")]:["static"===e.selectedSchema.option.type?a("FormItem",{attrs:{label:"默认值"}},[a("CheckboxGroup",{attrs:{size:"small"},model:{value:e.selectedSchema.default,callback:function(t){e.$set(e.selectedSchema,"default",t)},expression:"selectedSchema.default"}},e._l(e.selectedSchema.option.data||[],function(t,s){return a("Checkbox",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])}),1)],1):e._e()],e.$slots.direction?[e._t("direction")]:a("FormItem",{attrs:{label:"排列方式"}},[a("RadioGroup",{attrs:{size:"small"},on:{"on-change":e.onDirectionChange},model:{value:e.selectedSchema.option.direction,callback:function(t){e.$set(e.selectedSchema.option,"direction",t)},expression:"selectedSchema.option.direction"}},[a("Radio",{attrs:{label:"vertical"}},[e._v("垂直排列")]),a("Radio",{attrs:{label:"horizontal"}},[e._v("水平排列")])],1)],1),e._t("default")],2)};d._withStripped=!0;var p=a(2),m={components:{DataSource:a(4).a},extends:p.a,methods:{onSuccess(e){var t=this.selectedSchema.key;this.store.updateWidgetOption(t,{dynamicData:e})},onDirectionChange(e){var t=this.selectedSchema.key;this.store.updateWidgetOption(t,{direction:e})}}},h=Object(r.a)(m,d,[],!1,null,null,null);h.options.__file="src/widgets/checkbox/Setting.vue";var u=h.exports,f=a(1).schema.base.checkbox},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return m}),a.d(t,"Setting",function(){return _}),a.d(t,"Schema",function(){return S});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget epiv-datePicker",attrs:{"data-epkey":e.schema.key}},["display"===e.mode?[a("span",[e._v(e._s(e.model[e.schema.key]))])]:[e.schema.key?a("DatePicker",{attrs:{transfer:!0,disabled:e.schema.disabled,placeholder:e.schema.placeholder,size:e.schema.size||e.rootSchema.size,type:e.getType(),format:e.schema.option.format,value:e.model[e.schema.key]},on:{"on-change":e.onDateChange}}):e._e()]],2)};s._withStripped=!0;var o=a(3),n=a(1),{include:i}=n.helper,r=["HH:mm:ss","HH:mm","mm:ss"],l=["yyyy-MM","yyyy/MM"],c={extends:o.a,methods:{onDateChange(e){var{key:t}=this.schema,a=e;a!==this.store.getModel(t)&&(this.store.updateModel({[t]:a}),this.event("on-change",...arguments))},hasTime:e=>!!r.filter(t=>i(e,t)).length,isMonth:e=>!!l.filter(t=>i(e,t)).length&&!i(e,"dd"),getType(){var{option:e}=this.schema,{range:t,format:a}=e;return t?this.hasTime(a)?"datetimerange":"daterange":"yyyy"===a?"year":this.isMonth(a)?"month":this.hasTime(a)?"datetime":"date"}}},d=a(0),p=Object(d.a)(c,s,[],!1,null,null,null);p.options.__file="src/widgets/datePicker/View.vue";var m=p.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[e.$slots.type?[e._t("type")]:a("FormItem",{attrs:{label:"展示类型"}},[a("i-switch",{attrs:{size:"large"},on:{"on-change":e.onTypeChange},model:{value:e.selectedSchema.option.range,callback:function(t){e.$set(e.selectedSchema.option,"range",t)},expression:"selectedSchema.option.range"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("区间")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("日期")])])],1),e.$slots.format?e._e():a("FormItem",{attrs:{label:"日期格式"}},[a("Select",{attrs:{transfer:!0,size:"small"},model:{value:e.dateFormat,callback:function(t){e.dateFormat=t},expression:"dateFormat"}},e._l(e.dateFormatOptions,function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1)],1),!e.$slots.format&&e.hasTime?a("FormItem",{attrs:{label:"时间格式"}},[a("Select",{attrs:{transfer:!0,size:"small"},model:{value:e.timeFormat,callback:function(t){e.timeFormat=t},expression:"timeFormat"}},e._l(e.timeFormatOptions,function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1)],1):[e._t("format")],e.$slots.defaultValue?[e._t("defaultValue")]:[a("FormItem",{attrs:{label:"默认值"}},[a("Checkbox",{attrs:{value:"usedate"===e.selectedSchema.default},on:{"on-change":e.onUsedateChange}},[e._v("使用时日期")])],1),-1===e.dynamicDate.indexOf(e.selectedSchema.default)?a("FormItem",{attrs:{label:" "}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{transfer:!0,placeholder:"请选择默认日期",size:"small",type:e.getType(),format:e.selectedSchema.option.format,value:e.selectedSchema.default},on:{"on-change":e.onDateChange}})],1):e._e()],e._t("default")],2)};h._withStripped=!0;var u=a(2),{include:f}=n.helper,v=["HH:mm:ss","HH:mm","mm:ss"],y=["yyyy-MM","yyyy/MM"],g={extends:u.a,data:()=>({dynamicDate:["usedate"],dateFormatOptions:["yyyy","yyyy-MM","yyyy/MM","yyyy-MM-dd","yyyy/MM/dd","MM-dd-yyyy","MM/dd/yyyy"],timeFormatOptions:["HH:mm:ss","mm:ss","无"],dateFormat:"yyyy-MM-dd",timeFormat:"无"}),computed:{hasTime(){return f(this.dateFormat,"dd")}},watch:{dateFormat(){this.updateFormat()},timeFormat(){this.updateFormat()}},created(){this.updateFormat()},methods:{onUsedateChange(e){var{key:t,option:a}=this.selectedSchema;e?this.store.updateWidgetDefault({[t]:"usedate"}):this.updateDefaultValue(a.range)},getFormat(){var{dateFormat:e,timeFormat:t,hasTime:a}=this;return e+(a&&"无"!==t?" "+t:"")},updateDefaultValue(e){var{key:t,default:a}=this.selectedSchema,s=e?[]:"";"usedate"===a&&(s=a),this.store.updateWidgetDefault({[t]:s})},onTypeChange(e){var{key:t}=this.selectedSchema,a=e?"array<string>":"string";this.store.updateWidgetType(t,a),this.updateDefaultValue(e)},updateFormat(){var e=this.getFormat(),{key:t,option:a}=this.selectedSchema;this.store.updateWidgetOption(t,{format:e}),this.updateDefaultValue(a.range)},onDateChange(e){var{key:t,default:a}=this.selectedSchema,s=e;s!==a&&this.store.updateWidgetDefault({[t]:s})},formatHasTime:e=>!!v.filter(t=>f(e,t)).length,isMonth:e=>!!y.filter(t=>f(e,t)).length&&!f(e,"dd"),getType(){var{option:e}=this.selectedSchema,{range:t,format:a}=e;return t?this.formatHasTime(a)?"datetimerange":"daterange":"yyyy"===a?"year":this.isMonth(a)?"month":this.formatHasTime(a)?"datetime":"date"}}},b=Object(d.a)(g,h,[],!1,null,null,null);b.options.__file="src/widgets/datePicker/Setting.vue";var _=b.exports,S=n.schema.base.datePicker},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return r}),a.d(t,"Setting",function(){return p}),a.d(t,"Schema",function(){return m});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget epiv-timePicker",attrs:{"data-epkey":e.schema.key}},["display"===e.mode?[a("span",[e._v(e._s(e.model[e.schema.key]))])]:[e.schema.key?a("TimePicker",{attrs:{transfer:!0,type:e.type,format:e.schema.option.format,disabled:e.schema.disabled,placeholder:e.schema.placeholder,size:e.schema.size||e.rootSchema.size},on:{"on-change":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-change"].concat(s))}},model:{value:e.model[e.schema.key],callback:function(t){e.$set(e.model,e.schema.key,t)},expression:"model[schema.key]"}}):e._e()]],2)};s._withStripped=!0;var o={extends:a(3).a,computed:{type(){return this.schema.option.range?"timerange":"time"}}},n=a(0),i=Object(n.a)(o,s,[],!1,null,null,null);i.options.__file="src/widgets/timePicker/View.vue";var r=i.exports,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[e.$slots.type?[e._t("type")]:a("FormItem",{attrs:{label:"展示类型"}},[a("i-switch",{attrs:{size:"large"},on:{"on-change":e.onRangeChange},model:{value:e.selectedSchema.option.range,callback:function(t){e.$set(e.selectedSchema.option,"range",t)},expression:"selectedSchema.option.range"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("区间")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("时间")])])],1),e.$slots.format?[e._t("format")]:a("FormItem",{attrs:{label:"格式"}},[a("Select",{attrs:{transfer:!0,size:"small"},model:{value:e.selectedSchema.option.format,callback:function(t){e.$set(e.selectedSchema.option,"format",t)},expression:"selectedSchema.option.format"}},e._l(e.formatOptions,function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1)],1),e.$slots.defaultValue?[e._t("defaultValue")]:[a("FormItem",{attrs:{label:"默认值"}},[a("Checkbox",{attrs:{value:"usetime"===e.selectedSchema.default},on:{"on-change":e.onUsetimeChange}},[e._v("使用时日期")])],1),-1===e.dynamicTime.indexOf(e.selectedSchema.default)?a("FormItem",{attrs:{label:" "}},[a("TimePicker",{attrs:{transfer:!0,type:e.type,format:e.selectedSchema.option.format,placeholder:"请选择默认时间",size:"small"},model:{value:e.selectedSchema.default,callback:function(t){e.$set(e.selectedSchema,"default",t)},expression:"selectedSchema.default"}})],1):e._e()],e._t("default")],2)};l._withStripped=!0;var c={extends:a(2).a,data:()=>({dynamicTime:["usetime"]}),computed:{formatOptions:()=>["HH:mm:ss","HH:mm"],type(){return this.selectedSchema.option.range?"timerange":"time"}},methods:{onRangeChange(e){var{key:t}=this.selectedSchema,a=e?"array<string>":"string";this.store.updateWidgetType(t,a)},onUsetimeChange(e){var{key:t,option:a}=this.selectedSchema;e?this.store.updateWidgetDefault({[t]:"usetime"}):this.updateDefaultValue(a.range)},updateDefaultValue(e){var{key:t,default:a}=this.selectedSchema,s=e?[]:"";"usetime"===a&&(s=a),this.store.updateWidgetDefault({[t]:s})}}},d=Object(n.a)(c,l,[],!1,null,null,null);d.options.__file="src/widgets/timePicker/Setting.vue";var p=d.exports,m=a(1).schema.base.timePicker},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return r}),a.d(t,"Setting",function(){return p}),a.d(t,"Schema",function(){return m});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget",attrs:{"data-epkey":e.schema.key}},["display"===e.mode?[a("span",[e._v(e._s(e.model[e.schema.key]))])]:[e.schema.key?a("i-switch",{attrs:{disabled:e.schema.disabled,size:e.schema.size||e.rootSchema.size},on:{"on-change":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-change"].concat(s))}},model:{value:e.model[e.schema.key],callback:function(t){e.$set(e.model,e.schema.key,"string"==typeof t?t.trim():t)},expression:"model[schema.key]"}},[e.schema.option.open?a("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.schema.option.open))]):e._e(),e.schema.option.close?a("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.schema.option.close))]):e._e()]):e._e()]],2)};s._withStripped=!0;var o={extends:a(3).a},n=a(0),i=Object(n.a)(o,s,[],!1,null,null,null);i.options.__file="src/widgets/switch/View.vue";var r=i.exports,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[a("span",{attrs:{slot:"rule"},slot:"rule"}),a("span",{attrs:{slot:"placeholder"},slot:"placeholder"}),e.$slots.defaultValue?[e._t("defaultValue")]:a("FormItem",{attrs:{label:"默认值"}},[a("i-switch",{model:{value:e.selectedSchema.default,callback:function(t){e.$set(e.selectedSchema,"default",t)},expression:"selectedSchema.default"}},[e.selectedSchema.option.open?a("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.selectedSchema.option.open))]):e._e(),e.selectedSchema.option.close?a("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.selectedSchema.option.close))]):e._e()])],1),e.$slots.open?[e._t("open")]:a("FormItem",{attrs:{label:"开文本"}},[a("Input",{attrs:{size:"small"},model:{value:e.selectedSchema.option.open,callback:function(t){e.$set(e.selectedSchema.option,"open",t)},expression:"selectedSchema.option.open"}})],1),e.$slots.close?[e._t("close")]:a("FormItem",{attrs:{label:"关文本"}},[a("Input",{attrs:{size:"small"},model:{value:e.selectedSchema.option.close,callback:function(t){e.$set(e.selectedSchema.option,"close",t)},expression:"selectedSchema.option.close"}})],1)],2)};l._withStripped=!0;var c={extends:a(2).a},d=Object(n.a)(c,l,[],!1,null,null,null);d.options.__file="src/widgets/switch/Setting.vue";var p=d.exports,m=a(1).schema.base.switch},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return r}),a.d(t,"Setting",function(){return p}),a.d(t,"Schema",function(){return m});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ep-widget",attrs:{"data-epkey":e.schema.key}},["display"===e.mode?[e.schema.key?a("Rate",{attrs:{count:e.schema.option.count,"allow-half":e.schema.option.allowHalf,"show-text":e.schema.option.showText,disabled:!0,size:e.schema.size||e.rootSchema.size},model:{value:e.model[e.schema.key],callback:function(t){e.$set(e.model,e.schema.key,t)},expression:"model[schema.key]"}}):e._e()]:[e.schema.key?a("Rate",{attrs:{count:e.schema.option.count,"allow-half":e.schema.option.allowHalf,"show-text":e.schema.option.showText,disabled:e.schema.disabled,size:e.schema.size||e.rootSchema.size},on:{"on-change":function(t){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return e.event.apply(void 0,["on-change"].concat(s))}},model:{value:e.model[e.schema.key],callback:function(t){e.$set(e.model,e.schema.key,t)},expression:"model[schema.key]"}}):e._e()]],2)};s._withStripped=!0;var o={extends:a(3).a},n=a(0),i=Object(n.a)(o,s,[],!1,null,null,null);i.options.__file="src/widgets/rate/View.vue";var r=i.exports,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[a("span",{attrs:{slot:"rule"},slot:"rule"},[e.$slots.rule?e._e():a("FormItem",{attrs:{label:"必填"}},[a("i-switch",{on:{"on-change":e.switchChange},model:{value:e.selectedSchema.rules[0].required,callback:function(t){e.$set(e.selectedSchema.rules[0],"required",t)},expression:"selectedSchema.rules[0].required"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1)],1),a("span",{attrs:{slot:"placeholder"},slot:"placeholder"}),e.$slots.defaultValue?[e._t("defaultValue")]:a("FormItem",{attrs:{label:"默认值"}},[a("InputNumber",{attrs:{size:"small",min:0,max:e.selectedSchema.option.count,step:e.selectedSchema.option.allowHalf?.5:1,placeholder:"默认值"},model:{value:e.selectedSchema.default,callback:function(t){e.$set(e.selectedSchema,"default",t)},expression:"selectedSchema.default"}})],1),e.$slots.count?[e._t("count")]:a("FormItem",{attrs:{label:"总数"}},[a("InputNumber",{attrs:{min:2,step:1,transfer:!0,size:"small"},model:{value:e.selectedSchema.option.count,callback:function(t){e.$set(e.selectedSchema.option,"count",t)},expression:"selectedSchema.option.count"}})],1),e.$slots.allowHalf?[e._t("allowHalf")]:a("FormItem",{attrs:{label:"是否半选"}},[a("i-switch",{model:{value:e.selectedSchema.option.allowHalf,callback:function(t){e.$set(e.selectedSchema.option,"allowHalf",t)},expression:"selectedSchema.option.allowHalf"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),e.$slots.showText?[e._t("showText")]:a("FormItem",{attrs:{label:"是否提示"}},[a("i-switch",{model:{value:e.selectedSchema.option.showText,callback:function(t){e.$set(e.selectedSchema.option,"showText",t)},expression:"selectedSchema.option.showText"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),e._t("default")],2)};l._withStripped=!0;var c={extends:a(2).a,methods:{switchChange(e){var t={required:e,min:e?.5:0};this.store.updateRule(this.selectedSchema.key,0,t)}}},d=Object(n.a)(c,l,[],!1,null,null,null);d.options.__file="src/widgets/rate/Setting.vue";var p=d.exports,m=a(1).schema.base.rate},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return r}),a.d(t,"Setting",function(){return p}),a.d(t,"Schema",function(){return m});var s=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ep-widget",staticStyle:{position:"relative",height:"100%","min-height":"16px"},attrs:{"data-epkey":this.schema.key}},[this.schema.key?t("div",{staticClass:"ep-widget-line",style:this.style}):this._e()])};s._withStripped=!0;var o={extends:a(3).a,computed:{style(){var{direction:e,hposition:t,vposition:a,length:s,thickness:o,type:n,color:i}=this.schema.option,r="".concat(o,"px ").concat(n," ").concat(i,";"),l="",c="";"horizontal"===e?(l="border-top",c="width: ".concat(s,"%;")):(l="border-left",c="height: ".concat(s,"%;"));var d={top:"top: 0;",middle:"top: 50%;transform: translate".concat("center"===a?"":"Y","(-50%);"),bottom:"bottom: 0;",left:"left: 1px;",center:"left: 50%;transform: translate".concat("middle"===t?"":"X","(-50%);"),right:"right: 1px;"};return"position: absolute;"+d[t]+d[a]+c+l+":"+r}}},n=a(0),i=Object(n.a)(o,s,[],!1,null,null,null);i.options.__file="src/widgets/line/View.vue";var r=i.exports,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[a("span",{attrs:{slot:"label"},slot:"label"}),a("span",{attrs:{slot:"description"},slot:"description"}),a("span",{attrs:{slot:"placeholder"},slot:"placeholder"}),a("span",{attrs:{slot:"name"},slot:"name"}),a("span",{attrs:{slot:"rule"},slot:"rule"}),a("span",{attrs:{slot:"help"},slot:"help"}),a("span",{attrs:{slot:"disabled"},slot:"disabled"}),e.$slots.hposition?[e._t("hposition")]:a("FormItem",{attrs:{label:"水平位置"}},[a("RadioGroup",{attrs:{size:"small",type:"button"},model:{value:e.selectedSchema.option.hposition,callback:function(t){e.$set(e.selectedSchema.option,"hposition",t)},expression:"selectedSchema.option.hposition"}},[a("Radio",{attrs:{label:"top"}},[e._v("顶部")]),a("Radio",{attrs:{label:"middle"}},[e._v("中部")]),a("Radio",{attrs:{label:"bottom"}},[e._v("底部")])],1)],1),e.$slots.vposition?[e._t("vposition")]:a("FormItem",{attrs:{label:"垂直位置"}},[a("RadioGroup",{attrs:{size:"small",type:"button"},model:{value:e.selectedSchema.option.vposition,callback:function(t){e.$set(e.selectedSchema.option,"vposition",t)},expression:"selectedSchema.option.vposition"}},[a("Radio",{attrs:{label:"left"}},[e._v("居左")]),a("Radio",{attrs:{label:"center"}},[e._v("居中")]),a("Radio",{attrs:{label:"right"}},[e._v("居右")])],1)],1),e.$slots.length?[e._t("length")]:a("FormItem",{attrs:{label:"长度(%)"}},[a("InputNumber",{attrs:{min:0,max:100,step:1,size:"small"},model:{value:e.selectedSchema.option.length,callback:function(t){e.$set(e.selectedSchema.option,"length",t)},expression:"selectedSchema.option.length"}})],1),e.$slots.thickness?[e._t("thickness")]:a("FormItem",{attrs:{label:"粗细"}},[a("InputNumber",{attrs:{min:1,max:1e3,step:1,size:"small"},model:{value:e.selectedSchema.option.thickness,callback:function(t){e.$set(e.selectedSchema.option,"thickness",t)},expression:"selectedSchema.option.thickness"}})],1),e.$slots.type?[e._t("type")]:a("FormItem",{attrs:{label:"类型"}},[a("Select",{attrs:{size:"small"},model:{value:e.selectedSchema.option.type,callback:function(t){e.$set(e.selectedSchema.option,"type",t)},expression:"selectedSchema.option.type"}},[a("Option",{attrs:{value:"solid"}},[a("span",[e._v("实线")]),a("span",{style:e.getBorder("solid")})]),a("Option",{attrs:{value:"dashed"}},[a("span",[e._v("虚线")]),a("span",{style:e.getBorder("dashed")})]),a("Option",{attrs:{value:"dotted"}},[a("span",[e._v("点线")]),a("span",{style:e.getBorder("dotted")})])],1)],1),e.$slots.color?[e._t("color")]:a("FormItem",{attrs:{label:"颜色"}},[a("ColorPicker",{attrs:{size:"small",alpha:!0},model:{value:e.selectedSchema.option.color,callback:function(t){e.$set(e.selectedSchema.option,"color",t)},expression:"selectedSchema.option.color"}})],1),e._t("default")],2)};l._withStripped=!0;var c={extends:a(2).a,methods:{getBorder:e=>"padding-left: 4px;position:relative;top: -3px;display:inline-block;width: 40px; height: 0px; border-top: 2px ".concat(e," #333;"),onDirectionChange(e){var t="horizontal"===e?"middle":"center";this.store.updateWidgetOption(this.selectedSchema.key,{position:t})}}},d=Object(n.a)(c,l,[],!1,null,null,null);d.options.__file="src/widgets/line/Setting.vue";var p=d.exports,m=a(1).schema.base.line},function(e,t,a){"use strict";a.r(t),a.d(t,"View",function(){return r}),a.d(t,"Setting",function(){return m}),a.d(t,"Schema",function(){return h});var s=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"ep-widget",attrs:{"data-epkey":this.schema.key}})};s._withStripped=!0;var o={extends:a(3).a},n=a(0),i=Object(n.a)(o,s,[],!1,null,null,null);i.options.__file="src/widgets/grid/View.vue";var r=i.exports,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("setting-form",{attrs:{store:e.store}},[a("span",{attrs:{slot:"required"},slot:"required"}),a("span",{attrs:{slot:"disabled"},slot:"disabled"}),a("span",{attrs:{slot:"rule"},slot:"rule"}),a("span",{attrs:{slot:"placeholder"},slot:"placeholder"}),a("span",{attrs:{slot:"description"},slot:"description"}),a("span",{attrs:{slot:"help"},slot:"help"}),e.$slots.gutter?[e._t("gutter")]:a("FormItem",{attrs:{label:"栅格间距"}},[a("InputNumber",{attrs:{size:"small",step:1,min:0},model:{value:e.selectedSchema.option.gutter,callback:function(t){e.$set(e.selectedSchema.option,"gutter",t)},expression:"selectedSchema.option.gutter"}})],1),e.$slots.justify?[e._t("justify")]:a("FormItem",{attrs:{label:"水平对齐"}},[a("Select",{attrs:{size:"small"},model:{value:e.selectedSchema.option.justify,callback:function(t){e.$set(e.selectedSchema.option,"justify",t)},expression:"selectedSchema.option.justify"}},[a("Option",{attrs:{value:"start"}},[e._v("左对齐")]),a("Option",{attrs:{value:"end"}},[e._v("右对齐")]),a("Option",{attrs:{value:"center"}},[e._v("居中对齐")]),a("Option",{attrs:{value:"space-around"}},[e._v("分散对齐")]),a("Option",{attrs:{value:"space-between"}},[e._v("两端对齐")])],1)],1),e.$slots.align?[e._t("align")]:a("FormItem",{attrs:{label:"垂直对齐"}},[a("Select",{model:{value:e.selectedSchema.option.align,callback:function(t){e.$set(e.selectedSchema.option,"align",t)},expression:"selectedSchema.option.align"}},[a("Option",{attrs:{value:"top"}},[e._v("顶对齐")]),a("Option",{attrs:{value:"middle"}},[e._v("居中对齐")]),a("Option",{attrs:{value:"bottom"}},[e._v("底部对齐")])],1)],1),e.$slots.children?[e._t("children")]:a("FormItem",{attrs:{label:"列"}},e._l(e.selectedSchema.children,function(t,s){return a("Row",{key:s},[a("Col",{attrs:{span:"10"}},[a("InputNumber",{attrs:{size:"small",step:1,max:24,min:1},model:{value:e.selectedSchema.children[s].span,callback:function(t){e.$set(e.selectedSchema.children[s],"span",t)},expression:"selectedSchema.children[k].span"}})],1),a("Col",{staticClass:"ep-setting-move-btn",attrs:{span:"12",offset:"1"}},[a("move-btn",{attrs:{list:e.selectedSchema.children,index:s},on:{"on-move-up":e.onMoveUp,"on-move-down":e.onMoveDown,"on-delete":e.onRemove,"on-add":e.onAdd}})],1)],1)}),1),e.$slots.style?[e._t("style")]:[e.selectedSchema.style?[a("FormItem",{attrs:{label:"边框"}},[a("Input",{attrs:{size:"small"},model:{value:e.selectedSchema.style.border,callback:function(t){e.$set(e.selectedSchema.style,"border",t)},expression:"selectedSchema.style.border"}})],1),a("FormItem",{attrs:{label:"内边距"}},[a("Input",{attrs:{size:"small"},model:{value:e.selectedSchema.style.padding,callback:function(t){e.$set(e.selectedSchema.style,"padding",t)},expression:"selectedSchema.style.padding"}})],1),a("FormItem",{attrs:{label:"外边距"}},[a("Input",{attrs:{size:"small"},model:{value:e.selectedSchema.style.margin,callback:function(t){e.$set(e.selectedSchema.style,"margin",t)},expression:"selectedSchema.style.margin"}})],1),a("FormItem",{attrs:{label:"圆角"}},[a("Input",{attrs:{size:"small"},model:{value:e.selectedSchema.style["border-radius"],callback:function(t){e.$set(e.selectedSchema.style,"border-radius",t)},expression:'selectedSchema.style["border-radius"]'}})],1)]:e._e()],e._t("default")],2)};l._withStripped=!0;var c=a(2),d={components:{MoveBtn:a(8).a},extends:c.a,methods:{onMoveUp(e){var t=this.selectedSchema.key;this.store.moveWidgetChild(t,e-1,e)},onMoveDown(e){var t=this.selectedSchema.key;this.store.moveWidgetChild(t,e,e+1)},onRemove(e){var t=this.selectedSchema.key;this.store.removeWidgetChild(t,e)},onAdd(e){var t=this.selectedSchema.key;this.store.addWidgetChild(t,e,{span:12,list:[]})}}},p=Object(n.a)(d,l,[],!1,null,null,null);p.options.__file="src/widgets/grid/Setting.vue";var m=p.exports,h=a(1).schema.base.grid}])});